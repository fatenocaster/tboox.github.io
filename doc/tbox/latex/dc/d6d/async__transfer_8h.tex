\hypertarget{async__transfer_8h}{\section{src/tbox/stream/async\-\_\-transfer.h File Reference}
\label{async__transfer_8h}\index{src/tbox/stream/async\-\_\-transfer.\-h@{src/tbox/stream/async\-\_\-transfer.\-h}}
}
{\ttfamily \#include \char`\"{}prefix.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}async\-\_\-stream.\-h\char`\"{}}\\*
Include dependency graph for async\-\_\-transfer.\-h\-:
This graph shows which files directly or indirectly include this file\-:
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}
\begin{DoxyCompactList}\small\item\em the async transfer ref type \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef tb\-\_\-void\-\_\-t($\ast$ \hyperlink{async__transfer_8h_a3568c160549264ad1dd4b1c53e3ab1fe}{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t} )(tb\-\_\-size\-\_\-t state, tb\-\_\-cpointer\-\_\-t priv)
\item 
typedef tb\-\_\-bool\-\_\-t($\ast$ \hyperlink{async__transfer_8h_a1eabf5fb1b3a064855e54c1b70afbb74}{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t} )(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} istream, \hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} ostream, tb\-\_\-cpointer\-\_\-t priv)
\item 
typedef tb\-\_\-bool\-\_\-t($\ast$ \hyperlink{async__transfer_8h_af795c60468ad609e1a5511f41eb9c51d}{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t} )(tb\-\_\-size\-\_\-t state, tb\-\_\-hize\-\_\-t offset, tb\-\_\-hong\-\_\-t size, tb\-\_\-hize\-\_\-t save, tb\-\_\-size\-\_\-t rate, tb\-\_\-cpointer\-\_\-t priv)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} \hyperlink{async__transfer_8h_a7b0f3e0ff18cd1e7ac6d78b74cb438f2}{tb\-\_\-async\-\_\-transfer\-\_\-init} (\hyperlink{structtb__aicp__ref__t}{tb\-\_\-aicp\-\_\-ref\-\_\-t} aicp, tb\-\_\-bool\-\_\-t autoclosing)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_ade4d9fe94b193d3cb8e49169cad49668}{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, \hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a2553a97ec7e8ca4accd2fc922e1e482b}{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-char\-\_\-t const $\ast$url)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_ad2290c4951acdf43da08f091487458c4}{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_ad4578c6753b874c613bee319a2828f2d}{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, \hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a1d5caff4b2d1a4cafa60912f1b56a8e4}{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-char\-\_\-t const $\ast$url)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a2c9a3449c064fe4d1398153f3e03e63e}{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-byte\-\_\-t $\ast$data, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_ae82cdd77e46e5dcbf2af63a13fcba45b}{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-size\-\_\-t ctrl,...)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a9965f652604f7289a58b5138a9d63124}{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-size\-\_\-t ctrl,...)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_aee87e98e95695490f50c110b5d3695ef}{tb\-\_\-async\-\_\-transfer\-\_\-ctrl} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, \hyperlink{async__transfer_8h_a1eabf5fb1b3a064855e54c1b70afbb74}{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a071f6c43566a991142bd09e57e5bf472}{tb\-\_\-async\-\_\-transfer\-\_\-open} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-hize\-\_\-t offset, \hyperlink{async__transfer_8h_a6e1d8534efc36541051aaf6f25bea056}{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_ac87dde7bb9dff1d2e1557b669d6ddf46}{tb\-\_\-async\-\_\-transfer\-\_\-clos} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, \hyperlink{async__transfer_8h_a3568c160549264ad1dd4b1c53e3ab1fe}{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a596597cef55815b64de05967eb0781d2}{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a7ce493f8933d304d9b1397bcd25cce91}{tb\-\_\-async\-\_\-transfer\-\_\-done} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, \hyperlink{async__transfer_8h_af795c60468ad609e1a5511f41eb9c51d}{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_a50909859ee27f68082a53e362bfcd875}{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-hize\-\_\-t offset, \hyperlink{async__transfer_8h_af795c60468ad609e1a5511f41eb9c51d}{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-void\-\_\-t \hyperlink{async__transfer_8h_a9e8643cab6e1f0469ec3a341eaf3f6e5}{tb\-\_\-async\-\_\-transfer\-\_\-kill} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_ab5b2a39743f3de4d678ff77aa842d70e}{tb\-\_\-async\-\_\-transfer\-\_\-exit} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer)
\item 
tb\-\_\-void\-\_\-t \hyperlink{async__transfer_8h_a0a1d689ac92753edc7373ae7ba3a9be2}{tb\-\_\-async\-\_\-transfer\-\_\-pause} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__transfer_8h_aca9a126543e4ddfac64ab713058cae01}{tb\-\_\-async\-\_\-transfer\-\_\-resume} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer)
\item 
tb\-\_\-void\-\_\-t \hyperlink{async__transfer_8h_acabb2802f987c173b12d39511ef6bb54}{tb\-\_\-async\-\_\-transfer\-\_\-limitrate} (\hyperlink{structtb__async__transfer__ref__t}{tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} transfer, tb\-\_\-size\-\_\-t rate)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\-\_\-\-\_\-tb\-\_\-extern\-\_\-c\-\_\-enter\-\_\-\-\_\- typedef \\*
tb\-\_\-bool\-\_\-t($\ast$ \hyperlink{async__transfer_8h_a6e1d8534efc36541051aaf6f25bea056}{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t} )(tb\-\_\-size\-\_\-t state, tb\-\_\-hize\-\_\-t offset, tb\-\_\-hong\-\_\-t size, tb\-\_\-cpointer\-\_\-t priv)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Treasure Box Library

T\-Box is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U Lesser General Public License as published by the Free Software Foundation; either version 2.\-1 of the License, or (at your option) any later version.

T\-Box is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U Lesser General Public License for more details.

You should have received a copy of the G\-N\-U Lesser General Public License along with T\-Box; If not, see \href{http://www.gnu.org/licenses/}{\tt http\-://www.\-gnu.\-org/licenses/}

Copyright (C) 2009 -\/ 2015, ruki All rights reserved.

\begin{DoxyAuthor}{Author}
ruki 
\end{DoxyAuthor}


Definition in file \hyperlink{async__transfer_8h_source}{async\-\_\-transfer.\-h}.



\subsection{Typedef Documentation}
\hypertarget{async__transfer_8h_a3568c160549264ad1dd4b1c53e3ab1fe}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef tb\-\_\-void\-\_\-t($\ast$ tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t)(tb\-\_\-size\-\_\-t state, tb\-\_\-cpointer\-\_\-t priv)}}\label{async__transfer_8h_a3568c160549264ad1dd4b1c53e3ab1fe}
the async transfer clos func type


\begin{DoxyParams}{Parameters}
{\em state} & the stream state \\
\hline
{\em priv} & the func private data \\
\hline
\end{DoxyParams}


Definition at line 58 of file async\-\_\-transfer.\-h.

\hypertarget{async__transfer_8h_a1eabf5fb1b3a064855e54c1b70afbb74}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef tb\-\_\-bool\-\_\-t($\ast$ tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} istream, {\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} ostream, tb\-\_\-cpointer\-\_\-t priv)}}\label{async__transfer_8h_a1eabf5fb1b3a064855e54c1b70afbb74}
the async transfer ctrl func type


\begin{DoxyParams}{Parameters}
{\em istream} & the istream \\
\hline
{\em ostream} & the ostream \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true\-: ok, tb\-\_\-false\-: break it 
\end{DoxyReturn}


Definition at line 68 of file async\-\_\-transfer.\-h.

\hypertarget{async__transfer_8h_af795c60468ad609e1a5511f41eb9c51d}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef tb\-\_\-bool\-\_\-t($\ast$ tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t)(tb\-\_\-size\-\_\-t state, tb\-\_\-hize\-\_\-t offset, tb\-\_\-hong\-\_\-t size, tb\-\_\-hize\-\_\-t save, tb\-\_\-size\-\_\-t rate, tb\-\_\-cpointer\-\_\-t priv)}}\label{async__transfer_8h_af795c60468ad609e1a5511f41eb9c51d}
the async transfer done func type


\begin{DoxyParams}{Parameters}
{\em state} & the stream state \\
\hline
{\em offset} & the istream offset \\
\hline
{\em size} & the istream size, no size\-: -\/1 \\
\hline
{\em save} & the saved size \\
\hline
{\em rate} & the current rate, bytes/s \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true\-: ok and continue it if need, tb\-\_\-false\-: break it 
\end{DoxyReturn}


Definition at line 81 of file async\-\_\-transfer.\-h.



\subsection{Function Documentation}
\hypertarget{async__transfer_8h_ac87dde7bb9dff1d2e1557b669d6ddf46}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-clos@{tb\-\_\-async\-\_\-transfer\-\_\-clos}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-clos@{tb\-\_\-async\-\_\-transfer\-\_\-clos}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-clos}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-clos (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_ac87dde7bb9dff1d2e1557b669d6ddf46}
clos transfer


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em func} & the clos func \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1032 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-clos, and tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try().

\hypertarget{async__transfer_8h_a596597cef55815b64de05967eb0781d2}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try@{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try@{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a596597cef55815b64de05967eb0781d2}
try closing transfer


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1060 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try().



Referenced by tb\-\_\-async\-\_\-transfer\-\_\-clos(), and tb\-\_\-async\-\_\-transfer\-\_\-exit().

\hypertarget{async__transfer_8h_aee87e98e95695490f50c110b5d3695ef}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-ctrl@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-ctrl@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-ctrl}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-ctrl (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_aee87e98e95695490f50c110b5d3695ef}
ctrl transfer


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em offset} & the start offset \\
\hline
{\em func} & the ctrl func \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1103 of file async\-\_\-transfer.\-c.

\hypertarget{async__transfer_8h_ae82cdd77e46e5dcbf2af63a13fcba45b}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-size\-\_\-t}]{ctrl, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_ae82cdd77e46e5dcbf2af63a13fcba45b}
ctrl istream

\begin{DoxyNote}{Note}
must call it before opening
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em ctrl} & the ctrl code, using the stream ctrl code\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 929 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args().

\hypertarget{async__transfer_8h_a9965f652604f7289a58b5138a9d63124}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream@{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-size\-\_\-t}]{ctrl, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a9965f652604f7289a58b5138a9d63124}
ctrl ostream

\begin{DoxyNote}{Note}
must call it before opening
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em ctrl} & the ctrl code, using the stream ctrl code\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 948 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args().

\hypertarget{async__transfer_8h_a7ce493f8933d304d9b1397bcd25cce91}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-done@{tb\-\_\-async\-\_\-transfer\-\_\-done}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-done@{tb\-\_\-async\-\_\-transfer\-\_\-done}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-done}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-done (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a7ce493f8933d304d9b1397bcd25cce91}
done transfer and will close it automaticly


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em func} & the save func \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1119 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-read.



Referenced by tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done().

\hypertarget{async__transfer_8h_ab5b2a39743f3de4d678ff77aa842d70e}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-exit@{tb\-\_\-async\-\_\-transfer\-\_\-exit}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-exit@{tb\-\_\-async\-\_\-transfer\-\_\-exit}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-exit}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-exit (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_ab5b2a39743f3de4d678ff77aa842d70e}
exit transfer

\begin{DoxyNote}{Note}
will wait transfer closed and cannot be called in the callback func
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1174 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-exit(), tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try(), and tb\-\_\-async\-\_\-transfer\-\_\-kill().

\hypertarget{async__transfer_8h_a7b0f3e0ff18cd1e7ac6d78b74cb438f2}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init@{tb\-\_\-async\-\_\-transfer\-\_\-init}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init@{tb\-\_\-async\-\_\-transfer\-\_\-init}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t} tb\-\_\-async\-\_\-transfer\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aicp\-\_\-ref\-\_\-t}}]{aicp, }
\item[{tb\-\_\-bool\-\_\-t}]{autoclosing}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a7b0f3e0ff18cd1e7ac6d78b74cb438f2}
init async transfer


\begin{DoxyParams}{Parameters}
{\em aicp} & the aicp, using the default aicp if be null \\
\hline
{\em autoclosing} & auto closing it after finishing transfer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the async transfer 
\end{DoxyReturn}


Definition at line 677 of file async\-\_\-transfer.\-c.



References tb\-\_\-aicp().

\hypertarget{async__transfer_8h_ade4d9fe94b193d3cb8e49169cad49668}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_ade4d9fe94b193d3cb8e49169cad49668}
init istream


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 698 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-exit().

\hypertarget{async__transfer_8h_ad2290c4951acdf43da08f091487458c4}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-byte\-\_\-t const $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_ad2290c4951acdf43da08f091487458c4}
init istream from data


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 775 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl(), tb\-\_\-async\-\_\-stream\-\_\-exit(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-data(), and tb\-\_\-async\-\_\-stream\-\_\-type().

\hypertarget{async__transfer_8h_a2553a97ec7e8ca4accd2fc922e1e482b}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-char\-\_\-t const $\ast$}]{url}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a2553a97ec7e8ca4accd2fc922e1e482b}
init istream from url


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em url} & the url\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 721 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl(), tb\-\_\-async\-\_\-stream\-\_\-exit(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url(), and tb\-\_\-async\-\_\-stream\-\_\-type().



Referenced by tb\-\_\-transfer\-\_\-pool\-\_\-done().

\hypertarget{async__transfer_8h_ad4578c6753b874c613bee319a2828f2d}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_ad4578c6753b874c613bee319a2828f2d}
init ostream


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the async transfer 
\end{DoxyReturn}


Definition at line 810 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-exit().

\hypertarget{async__transfer_8h_a2c9a3449c064fe4d1398153f3e03e63e}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-byte\-\_\-t $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a2c9a3449c064fe4d1398153f3e03e63e}
init ostream from data


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 894 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl(), tb\-\_\-async\-\_\-stream\-\_\-exit(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-data(), and tb\-\_\-async\-\_\-stream\-\_\-type().

\hypertarget{async__transfer_8h_a1d5caff4b2d1a4cafa60912f1b56a8e4}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url@{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-char\-\_\-t const $\ast$}]{url}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a1d5caff4b2d1a4cafa60912f1b56a8e4}
init ostream from url


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em url} & the url\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 833 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl(), tb\-\_\-async\-\_\-stream\-\_\-exit(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url(), tb\-\_\-async\-\_\-stream\-\_\-type(), T\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E\-\_\-\-B\-I\-N\-A\-R\-Y, T\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E\-\_\-\-C\-R\-E\-A\-T, T\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E\-\_\-\-R\-W, and T\-B\-\_\-\-F\-I\-L\-E\-\_\-\-M\-O\-D\-E\-\_\-\-T\-R\-U\-N\-C.



Referenced by tb\-\_\-transfer\-\_\-pool\-\_\-done().

\hypertarget{async__transfer_8h_a9e8643cab6e1f0469ec3a341eaf3f6e5}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-kill@{tb\-\_\-async\-\_\-transfer\-\_\-kill}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-kill@{tb\-\_\-async\-\_\-transfer\-\_\-kill}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-kill}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-kill (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a9e8643cab6e1f0469ec3a341eaf3f6e5}
kill transfer


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
\end{DoxyParams}


Definition at line 1155 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-kill().



Referenced by tb\-\_\-async\-\_\-transfer\-\_\-exit().

\hypertarget{async__transfer_8h_acabb2802f987c173b12d39511ef6bb54}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-limitrate@{tb\-\_\-async\-\_\-transfer\-\_\-limitrate}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-limitrate@{tb\-\_\-async\-\_\-transfer\-\_\-limitrate}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-limitrate}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-limitrate (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-size\-\_\-t}]{rate}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_acabb2802f987c173b12d39511ef6bb54}
limit transfer rate


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em rate} & the trasfer rate and no limit if 0, bytes/s \\
\hline
\end{DoxyParams}


Definition at line 1273 of file async\-\_\-transfer.\-c.



Referenced by tb\-\_\-transfer\-\_\-pool\-\_\-done().

\hypertarget{async__transfer_8h_a071f6c43566a991142bd09e57e5bf472}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-open@{tb\-\_\-async\-\_\-transfer\-\_\-open}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-open@{tb\-\_\-async\-\_\-transfer\-\_\-open}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-open}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-open (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-hize\-\_\-t}]{offset, }
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a071f6c43566a991142bd09e57e5bf472}
open transfer


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em offset} & the start offset \\
\hline
{\em func} & the open func \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 967 of file async\-\_\-transfer.\-c.



References tb\-\_\-aicp\-\_\-time(), tb\-\_\-async\-\_\-stream\-\_\-offset(), tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek, and tb\-\_\-async\-\_\-stream\-\_\-size().



Referenced by tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done().

\hypertarget{async__transfer_8h_a50909859ee27f68082a53e362bfcd875}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done@{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done@{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-done (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer, }
\item[{tb\-\_\-hize\-\_\-t}]{offset, }
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-done\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a50909859ee27f68082a53e362bfcd875}
open and done transfer and will close it automaticly


\begin{DoxyCode}
    \textcolor{keyword}{static} tb\_bool\_t tb\_demo\_transfer\_done\_func(tb\_size\_t state, tb\_hize\_t offset, tb\_hong\_t size, 
      tb\_hize\_t save, tb\_size\_t rate, tb\_cpointer\_t priv)
    \{
        \textcolor{comment}{// percent}
        tb\_size\_t percent = 0;
        \textcolor{keywordflow}{if} (size > 0) percent = (offset * 100) / size;
        \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (state == TB\_STATE\_OK) percent = 100;

        \textcolor{comment}{// trace}
        tb\_trace\_i(\textcolor{stringliteral}{"done: %llu bytes, rate: %lu bytes/s, percent: %lu%%, state: %s"}, save, rate, percent, 
      \hyperlink{state_8c_a48ee63d9a88adadec69cda1d846e00aa}{tb\_state\_cstr}(state));

        \textcolor{comment}{// ok}
        \textcolor{keywordflow}{return} tb\_true;
    \}

    \textcolor{comment}{// init transfer}
    \hyperlink{structtb__async__transfer__ref__t}{tb\_async\_transfer\_ref\_t} transfer = 
      \hyperlink{async__transfer_8c_a7b0f3e0ff18cd1e7ac6d78b74cb438f2}{tb\_async\_transfer\_init}(tb\_null);
    \textcolor{keywordflow}{if} (transfer)
    \{
        \textcolor{comment}{// init stream}
        \hyperlink{async__transfer_8c_a2553a97ec7e8ca4accd2fc922e1e482b}{tb\_async\_transfer\_init\_istream\_from\_url}(transfer, url);
        \hyperlink{async__transfer_8c_a2c9a3449c064fe4d1398153f3e03e63e}{tb\_async\_transfer\_init\_ostream\_from\_data}(transfer, data, 
      size);

        \textcolor{comment}{// ctrl stream}
\textcolor{comment}{//      tb\_async\_transfer\_ctrl\_istream(transfer, TB\_STREAM\_CTRL\_SET\_TIMEOUT, 10000);}

        \textcolor{comment}{// limit rate}
\textcolor{comment}{//      tb\_async\_transfer\_limitrate(transfer, 256000);}

        \textcolor{comment}{// open and done transfer}
        \hyperlink{async__transfer_8c_a50909859ee27f68082a53e362bfcd875}{tb\_async\_transfer\_open\_done}(transfer, 0, tb\_demo\_transfer\_done\_func, 
      tb\_null);

        \textcolor{comment}{// exit transfer}
        \hyperlink{async__transfer_8c_ab5b2a39743f3de4d678ff77aa842d70e}{tb\_async\_transfer\_exit}(transfer);
    \}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
{\em offset} & the start offset \\
\hline
{\em func} & the save func \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1138 of file async\-\_\-transfer.\-c.



References tb\-\_\-async\-\_\-transfer\-\_\-done(), and tb\-\_\-async\-\_\-transfer\-\_\-open().



Referenced by tb\-\_\-transfer\-\_\-pool\-\_\-done().

\hypertarget{async__transfer_8h_a0a1d689ac92753edc7373ae7ba3a9be2}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-pause@{tb\-\_\-async\-\_\-transfer\-\_\-pause}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-pause@{tb\-\_\-async\-\_\-transfer\-\_\-pause}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-pause}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-pause (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_a0a1d689ac92753edc7373ae7ba3a9be2}
pause transfer

the save func state will return T\-B\-\_\-\-S\-T\-A\-T\-E\-\_\-\-P\-A\-U\-S\-E\-D


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer \\
\hline
\end{DoxyParams}


Definition at line 1220 of file async\-\_\-transfer.\-c.

\hypertarget{async__transfer_8h_aca9a126543e4ddfac64ab713058cae01}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-resume@{tb\-\_\-async\-\_\-transfer\-\_\-resume}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-resume@{tb\-\_\-async\-\_\-transfer\-\_\-resume}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-resume}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-transfer\-\_\-resume (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-transfer\-\_\-ref\-\_\-t}}]{transfer}
\end{DoxyParamCaption}
)}}\label{async__transfer_8h_aca9a126543e4ddfac64ab713058cae01}
resume transfer


\begin{DoxyParams}{Parameters}
{\em transfer} & the async transfer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1229 of file async\-\_\-transfer.\-c.



References tb\-\_\-aicp\-\_\-time(), and tb\-\_\-async\-\_\-stream\-\_\-read.



\subsection{Variable Documentation}
\hypertarget{async__transfer_8h_a6e1d8534efc36541051aaf6f25bea056}{\index{async\-\_\-transfer.\-h@{async\-\_\-transfer.\-h}!tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t}}
\index{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t@{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t}!async_transfer.h@{async\-\_\-transfer.\-h}}
\subsubsection[{tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}\-\_\-\-\_\-tb\-\_\-extern\-\_\-c\-\_\-enter\-\_\-\-\_\- typedef tb\-\_\-bool\-\_\-t($\ast$ tb\-\_\-async\-\_\-transfer\-\_\-open\-\_\-func\-\_\-t)(tb\-\_\-size\-\_\-t state, tb\-\_\-hize\-\_\-t offset, tb\-\_\-hong\-\_\-t size, tb\-\_\-cpointer\-\_\-t priv)}}\label{async__transfer_8h_a6e1d8534efc36541051aaf6f25bea056}
the async transfer open func type


\begin{DoxyParams}{Parameters}
{\em state} & the stream state \\
\hline
{\em offset} & the istream offset \\
\hline
{\em size} & the istream size, no size\-: -\/1 \\
\hline
{\em priv} & the func private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true\-: ok, tb\-\_\-false\-: break it 
\end{DoxyReturn}


Definition at line 51 of file async\-\_\-transfer.\-h.

