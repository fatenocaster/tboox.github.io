\hypertarget{aiop_8h}{\section{src/tbox/asio/aiop.h File Reference}
\label{aiop_8h}\index{src/tbox/asio/aiop.\-h@{src/tbox/asio/aiop.\-h}}
}
{\ttfamily \#include \char`\"{}prefix.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}aioo.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}aioe.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../platform/prefix.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../container/container.\-h\char`\"{}}\\*
Include dependency graph for aiop.\-h\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/d84/aiop_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/da5/aiop_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\-\_\-\-\_\-tb\-\_\-extern\-\_\-c\-\_\-enter\-\_\-\-\_\- \hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} \hyperlink{aiop_8h_add9c85a6fdb3a4aa21d64a6b73ae52e7}{tb\-\_\-aiop\-\_\-init} (tb\-\_\-size\-\_\-t maxn)
\item 
tb\-\_\-void\-\_\-t \hyperlink{aiop_8h_a6c82eb758d72329afe4b28d950831954}{tb\-\_\-aiop\-\_\-exit} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop)
\item 
tb\-\_\-void\-\_\-t \hyperlink{aiop_8h_aff906abededd40fffcc461fe4ad37ec2}{tb\-\_\-aiop\-\_\-cler} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop)
\item 
tb\-\_\-void\-\_\-t \hyperlink{aiop_8h_a90521c34f1aed07bc1878e4596adbea1}{tb\-\_\-aiop\-\_\-kill} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop)
\item 
tb\-\_\-void\-\_\-t \hyperlink{aiop_8h_a1ab182b0b447972c980d139255275c71}{tb\-\_\-aiop\-\_\-spak} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{aiop_8h_a7d9831b657cfd9cba21431573b5dfa6a}{tb\-\_\-aiop\-\_\-have} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop, tb\-\_\-size\-\_\-t code)
\item 
\hyperlink{structtb__aioo__ref__t}{tb\-\_\-aioo\-\_\-ref\-\_\-t} \hyperlink{aiop_8h_a832dbe141af6cf1f3a26159bf05d7e04}{tb\-\_\-aiop\-\_\-addo} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop, \hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-size\-\_\-t code, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-void\-\_\-t \hyperlink{aiop_8h_a444ca5b9341c07bac5f36e96e81f381b}{tb\-\_\-aiop\-\_\-delo} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop, \hyperlink{structtb__aioo__ref__t}{tb\-\_\-aioo\-\_\-ref\-\_\-t} aioo)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{aiop_8h_a9061ddc8a8ec2bf7d34d311b06166c3f}{tb\-\_\-aiop\-\_\-post} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop, \hyperlink{structtb__aioe__t}{tb\-\_\-aioe\-\_\-t} const $\ast$aioe)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{aiop_8h_a9c80389f4a3be167a029018ca7ff0216}{tb\-\_\-aiop\-\_\-sete} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop, \hyperlink{structtb__aioo__ref__t}{tb\-\_\-aioo\-\_\-ref\-\_\-t} aioo, tb\-\_\-size\-\_\-t code, tb\-\_\-cpointer\-\_\-t priv)
\item 
tb\-\_\-long\-\_\-t \hyperlink{aiop_8h_a7e3c6b8262048fa37b5cbc8694a19ccf}{tb\-\_\-aiop\-\_\-wait} (\hyperlink{structtb__aiop__ref__t}{tb\-\_\-aiop\-\_\-ref\-\_\-t} aiop, \hyperlink{structtb__aioe__t}{tb\-\_\-aioe\-\_\-t} $\ast$list, tb\-\_\-size\-\_\-t maxn, tb\-\_\-long\-\_\-t timeout)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Treasure Box Library

T\-Box is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U Lesser General Public License as published by the Free Software Foundation; either version 2.\-1 of the License, or (at your option) any later version.

T\-Box is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U Lesser General Public License for more details.

You should have received a copy of the G\-N\-U Lesser General Public License along with T\-Box; If not, see \href{http://www.gnu.org/licenses/}{\tt http\-://www.\-gnu.\-org/licenses/}

Copyright (C) 2009 -\/ 2015, ruki All rights reserved.

\begin{DoxyAuthor}{Author}
ruki 
\end{DoxyAuthor}


Definition in file \hyperlink{aiop_8h_source}{aiop.\-h}.



\subsection{Function Documentation}
\hypertarget{aiop_8h_a832dbe141af6cf1f3a26159bf05d7e04}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-addo@{tb\-\_\-aiop\-\_\-addo}}
\index{tb\-\_\-aiop\-\_\-addo@{tb\-\_\-aiop\-\_\-addo}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-addo}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-aioo\-\_\-ref\-\_\-t} tb\-\_\-aiop\-\_\-addo (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop, }
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-size\-\_\-t}]{code, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a832dbe141af6cf1f3a26159bf05d7e04}
addo the aioo


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
{\em sock} & the socket \\
\hline
{\em code} & the code \\
\hline
{\em priv} & the private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the aioo 
\end{DoxyReturn}


Definition at line 240 of file aiop.\-c.



References tb\-\_\-aiop\-\_\-have().



Referenced by tb\-\_\-aiop\-\_\-cler(), and tb\-\_\-aiop\-\_\-init().

\hypertarget{aiop_8h_aff906abededd40fffcc461fe4ad37ec2}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-cler@{tb\-\_\-aiop\-\_\-cler}}
\index{tb\-\_\-aiop\-\_\-cler@{tb\-\_\-aiop\-\_\-cler}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-cler}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-aiop\-\_\-cler (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop}
\end{DoxyParamCaption}
)}}\label{aiop_8h_aff906abededd40fffcc461fe4ad37ec2}
cler the aiop


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
\end{DoxyParams}


Definition at line 171 of file aiop.\-c.



References tb\-\_\-aiop\-\_\-addo(), and tb\-\_\-fixed\-\_\-pool\-\_\-clear().

\hypertarget{aiop_8h_a444ca5b9341c07bac5f36e96e81f381b}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-delo@{tb\-\_\-aiop\-\_\-delo}}
\index{tb\-\_\-aiop\-\_\-delo@{tb\-\_\-aiop\-\_\-delo}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-delo}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-aiop\-\_\-delo (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop, }
\item[{{\bf tb\-\_\-aioo\-\_\-ref\-\_\-t}}]{aioo}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a444ca5b9341c07bac5f36e96e81f381b}
delo the aioo


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
{\em aioo} & the aioo \\
\hline
\end{DoxyParams}


Definition at line 274 of file aiop.\-c.

\hypertarget{aiop_8h_a6c82eb758d72329afe4b28d950831954}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-exit@{tb\-\_\-aiop\-\_\-exit}}
\index{tb\-\_\-aiop\-\_\-exit@{tb\-\_\-aiop\-\_\-exit}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-exit}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-aiop\-\_\-exit (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a6c82eb758d72329afe4b28d950831954}
exit the aiop


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
\end{DoxyParams}


Definition at line 143 of file aiop.\-c.



References tb\-\_\-fixed\-\_\-pool\-\_\-exit(), and tb\-\_\-socket\-\_\-exit().



Referenced by tb\-\_\-aiop\-\_\-init().

\hypertarget{aiop_8h_a7d9831b657cfd9cba21431573b5dfa6a}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-have@{tb\-\_\-aiop\-\_\-have}}
\index{tb\-\_\-aiop\-\_\-have@{tb\-\_\-aiop\-\_\-have}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-have}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-aiop\-\_\-have (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop, }
\item[{tb\-\_\-size\-\_\-t}]{code}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a7d9831b657cfd9cba21431573b5dfa6a}
the aioe code is supported for the aiop?


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 189 of file aiop.\-c.



Referenced by tb\-\_\-aiop\-\_\-addo(), and tb\-\_\-aiop\-\_\-post().

\hypertarget{aiop_8h_add9c85a6fdb3a4aa21d64a6b73ae52e7}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-init@{tb\-\_\-aiop\-\_\-init}}
\index{tb\-\_\-aiop\-\_\-init@{tb\-\_\-aiop\-\_\-init}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}\-\_\-\-\_\-tb\-\_\-extern\-\_\-c\-\_\-enter\-\_\-\-\_\- {\bf tb\-\_\-aiop\-\_\-ref\-\_\-t} tb\-\_\-aiop\-\_\-init (
\begin{DoxyParamCaption}
\item[{tb\-\_\-size\-\_\-t}]{maxn}
\end{DoxyParamCaption}
)}}\label{aiop_8h_add9c85a6fdb3a4aa21d64a6b73ae52e7}
init the aiop


\begin{DoxyParams}{Parameters}
{\em maxn} & the maximum number of concurrent objects\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the aiop 
\end{DoxyReturn}


Definition at line 88 of file aiop.\-c.



References tb\-\_\-aiop\-\_\-addo(), tb\-\_\-aiop\-\_\-exit(), tb\-\_\-fixed\-\_\-pool\-\_\-init(), tb\-\_\-lock\-\_\-profiler(), tb\-\_\-lock\-\_\-profiler\-\_\-register(), and tb\-\_\-socket\-\_\-pair().

\hypertarget{aiop_8h_a90521c34f1aed07bc1878e4596adbea1}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-kill@{tb\-\_\-aiop\-\_\-kill}}
\index{tb\-\_\-aiop\-\_\-kill@{tb\-\_\-aiop\-\_\-kill}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-kill}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-aiop\-\_\-kill (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a90521c34f1aed07bc1878e4596adbea1}
kill the aiop


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
\end{DoxyParams}


Definition at line 198 of file aiop.\-c.



References tb\-\_\-socket\-\_\-send().

\hypertarget{aiop_8h_a9061ddc8a8ec2bf7d34d311b06166c3f}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-post@{tb\-\_\-aiop\-\_\-post}}
\index{tb\-\_\-aiop\-\_\-post@{tb\-\_\-aiop\-\_\-post}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-post}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-aiop\-\_\-post (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop, }
\item[{{\bf tb\-\_\-aioe\-\_\-t} const $\ast$}]{aioe}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a9061ddc8a8ec2bf7d34d311b06166c3f}
post the aioe


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
{\em aioe} & the aioe\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 283 of file aiop.\-c.



References tb\-\_\-aioe\-\_\-t\-::code, and tb\-\_\-aiop\-\_\-have().



Referenced by tb\-\_\-aiop\-\_\-sete().

\hypertarget{aiop_8h_a9c80389f4a3be167a029018ca7ff0216}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-sete@{tb\-\_\-aiop\-\_\-sete}}
\index{tb\-\_\-aiop\-\_\-sete@{tb\-\_\-aiop\-\_\-sete}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-sete}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-aiop\-\_\-sete (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop, }
\item[{{\bf tb\-\_\-aioo\-\_\-ref\-\_\-t}}]{aioo, }
\item[{tb\-\_\-size\-\_\-t}]{code, }
\item[{tb\-\_\-cpointer\-\_\-t}]{priv}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a9c80389f4a3be167a029018ca7ff0216}
set the aioe


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
{\em aioo} & the aioo \\
\hline
{\em code} & the code \\
\hline
{\em priv} & the private data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 293 of file aiop.\-c.



References tb\-\_\-aioe\-\_\-t\-::aioo, tb\-\_\-aioe\-\_\-t\-::code, tb\-\_\-aioe\-\_\-t\-::priv, tb\-\_\-aioo\-\_\-sock(), and tb\-\_\-aiop\-\_\-post().

\hypertarget{aiop_8h_a1ab182b0b447972c980d139255275c71}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-spak@{tb\-\_\-aiop\-\_\-spak}}
\index{tb\-\_\-aiop\-\_\-spak@{tb\-\_\-aiop\-\_\-spak}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-spak}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-aiop\-\_\-spak (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a1ab182b0b447972c980d139255275c71}
spak the aiop, break the wait


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
\end{DoxyParams}


Definition at line 219 of file aiop.\-c.



References tb\-\_\-socket\-\_\-send().

\hypertarget{aiop_8h_a7e3c6b8262048fa37b5cbc8694a19ccf}{\index{aiop.\-h@{aiop.\-h}!tb\-\_\-aiop\-\_\-wait@{tb\-\_\-aiop\-\_\-wait}}
\index{tb\-\_\-aiop\-\_\-wait@{tb\-\_\-aiop\-\_\-wait}!aiop.h@{aiop.\-h}}
\subsubsection[{tb\-\_\-aiop\-\_\-wait}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-aiop\-\_\-wait (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aiop\-\_\-ref\-\_\-t}}]{aiop, }
\item[{{\bf tb\-\_\-aioe\-\_\-t} $\ast$}]{list, }
\item[{tb\-\_\-size\-\_\-t}]{maxn, }
\item[{tb\-\_\-long\-\_\-t}]{timeout}
\end{DoxyParamCaption}
)}}\label{aiop_8h_a7e3c6b8262048fa37b5cbc8694a19ccf}
wait the asio objects in the pool

blocking wait the multiple event objects return the event number if ok, otherwise return 0 for timeout


\begin{DoxyParams}{Parameters}
{\em aiop} & the aiop \\
\hline
{\em list} & the aioe list \\
\hline
{\em maxn} & the aioe maxn \\
\hline
{\em timeout} & the timeout, infinity\-: -\/1\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
$>$ 0\-: the aioe list size, 0\-: timeout, -\/1\-: failed 
\end{DoxyReturn}


Definition at line 308 of file aiop.\-c.

