\hypertarget{async__stream_8c}{\section{src/tbox/stream/async\-\_\-stream.c File Reference}
\label{async__stream_8c}\index{src/tbox/stream/async\-\_\-stream.\-c@{src/tbox/stream/async\-\_\-stream.\-c}}
}
{\ttfamily \#include \char`\"{}async\-\_\-stream.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}impl/async\-\_\-stream/prefix.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../network/network.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../platform/platform.\-h\char`\"{}}\\*
Include dependency graph for async\-\_\-stream.\-c\-:
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{async__stream_8c_a2aa61763aba311653f75dfdea928da4e}{\#define {\bfseries T\-B\-\_\-\-T\-R\-A\-C\-E\-\_\-\-M\-O\-D\-U\-L\-E\-\_\-\-N\-A\-M\-E}~\char`\"{}async\-\_\-stream\char`\"{}}\label{async__stream_8c_a2aa61763aba311653f75dfdea928da4e}

\item 
\hypertarget{async__stream_8c_ab5dd5585b246c36fdb275f9781170000}{\#define {\bfseries T\-B\-\_\-\-T\-R\-A\-C\-E\-\_\-\-M\-O\-D\-U\-L\-E\-\_\-\-D\-E\-B\-U\-G}~(1)}\label{async__stream_8c_ab5dd5585b246c36fdb275f9781170000}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} \hyperlink{async__stream_8c_a8b86552757bc01e9da050368f18d2091}{tb\-\_\-async\-\_\-stream\-\_\-init} (\hyperlink{structtb__aicp__ref__t}{tb\-\_\-aicp\-\_\-ref\-\_\-t} aicp, tb\-\_\-size\-\_\-t type, tb\-\_\-size\-\_\-t type\-\_\-size, tb\-\_\-size\-\_\-t rcache, tb\-\_\-size\-\_\-t wcache, tb\-\_\-bool\-\_\-t($\ast$open\-\_\-try)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream), tb\-\_\-bool\-\_\-t($\ast$clos\-\_\-try)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream), tb\-\_\-bool\-\_\-t($\ast$open)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, \hyperlink{async__stream_8h_a04a858fc06433335236db4bddcdfc1cb}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv), tb\-\_\-bool\-\_\-t($\ast$clos)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, \hyperlink{async__stream_8h_ac36a4cc85a417f2ac5394297fb801a20}{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv), tb\-\_\-bool\-\_\-t($\ast$exit)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream), tb\-\_\-void\-\_\-t($\ast$kill)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream), tb\-\_\-bool\-\_\-t($\ast$ctrl)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t ctrl, tb\-\_\-va\-\_\-list\-\_\-t args), tb\-\_\-bool\-\_\-t($\ast$read)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, tb\-\_\-byte\-\_\-t $\ast$data, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_aca0105f67fde8666e6e0f9b907136634}{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv), tb\-\_\-bool\-\_\-t($\ast$writ)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_a388210c1b03dbf28cf3f47f26449beb5}{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv), tb\-\_\-bool\-\_\-t($\ast$seek)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-hize\-\_\-t offset, \hyperlink{async__stream_8h_a3c6ab6b8e797a0bab6f9f150087ef39b}{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv), tb\-\_\-bool\-\_\-t($\ast$sync)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-bool\-\_\-t bclosing, \hyperlink{async__stream_8h_aa458907d6087a31b50edc3633800ea6c}{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv), tb\-\_\-bool\-\_\-t($\ast$task)(\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, \hyperlink{async__stream_8h_a3f1e43125d15f76e3c36f4960a8a8b1d}{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv))
\item 
\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} \hyperlink{async__stream_8c_af40318593b81e53de49caf9469b31376}{tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url} (\hyperlink{structtb__aicp__ref__t}{tb\-\_\-aicp\-\_\-ref\-\_\-t} aicp, tb\-\_\-char\-\_\-t const $\ast$url)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_af70b11177bbb9aa77517f086fa2ec5f2}{tb\-\_\-async\-\_\-stream\-\_\-exit} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
\hyperlink{structtb__url__t}{tb\-\_\-url\-\_\-t} $\ast$ \hyperlink{async__stream_8c_a2fd7518c47d52640ffdea2905af5cecd}{tb\-\_\-async\-\_\-stream\-\_\-url} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-size\-\_\-t \hyperlink{async__stream_8c_a5b33d5e4a83d350bedc7b1bc3ed71e04}{tb\-\_\-async\-\_\-stream\-\_\-type} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-hong\-\_\-t \hyperlink{async__stream_8c_a46008a9302c1992b1b8ddc1aa8a0cf08}{tb\-\_\-async\-\_\-stream\-\_\-size} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-hize\-\_\-t \hyperlink{async__stream_8c_ac2aeae3ba175ed5aa80186c2bdb95953}{tb\-\_\-async\-\_\-stream\-\_\-left} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a12003f95694477702c9146342488bbc5}{tb\-\_\-async\-\_\-stream\-\_\-beof} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-hize\-\_\-t \hyperlink{async__stream_8c_adc230c8ff4e752ed6e9c3505490ce248}{tb\-\_\-async\-\_\-stream\-\_\-offset} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a84fef2d6ad97dca628ec5ee2fdb4373e}{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a121c284b2ccf8fe82c56f7a4bfc7a180}{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a731ea7b045d0f1e9af983f97efb9d9b5}{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-long\-\_\-t \hyperlink{async__stream_8c_aa4ecf52d287ecc273f6c210c4c7374e8}{tb\-\_\-async\-\_\-stream\-\_\-timeout} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_abea79f196d9f1c8a909b28679a5f80f9}{tb\-\_\-async\-\_\-stream\-\_\-ctrl} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t ctrl,...)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a288e1c22f5710fc11841b82c9db33d2e}{tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t ctrl, tb\-\_\-va\-\_\-list\-\_\-t args)
\item 
tb\-\_\-void\-\_\-t \hyperlink{async__stream_8c_a069256f0605cf82b64f3fdbe4e90ba16}{tb\-\_\-async\-\_\-stream\-\_\-kill} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a485c75d8838bc13e764b32ba33f70d10}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_aaf49b0a7f59c8c2c88a0ecc2561a3bab}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, \hyperlink{async__stream_8h_a04a858fc06433335236db4bddcdfc1cb}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a8b75da9e00c39d965c8eb908da3a4b6c}{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a20eb002f98e476d4dc1565d2238da30b}{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, \hyperlink{async__stream_8h_ac36a4cc85a417f2ac5394297fb801a20}{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_ac7ded3ad146d1eabb9a8b8f84e1c711f}{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_aca0105f67fde8666e6e0f9b907136634}{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_ae4865ba037129a720297e6534bf753fe}{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_a388210c1b03dbf28cf3f47f26449beb5}{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a3a9e37955c8e586f26f13881e22ffdc0}{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-hize\-\_\-t offset, \hyperlink{async__stream_8h_a3c6ab6b8e797a0bab6f9f150087ef39b}{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_af1b305819d3286898fd8bb60faa61df0}{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-bool\-\_\-t bclosing, \hyperlink{async__stream_8h_aa458907d6087a31b50edc3633800ea6c}{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_aea8ef9bea7ad54720ea59ecd3347266f}{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, \hyperlink{async__stream_8h_a3f1e43125d15f76e3c36f4960a8a8b1d}{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a75f9ee1824cd5248d2024e3d5a25d60b}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_aca0105f67fde8666e6e0f9b907136634}{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a252a5221146cca9d62c4facec20c2a10}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_a388210c1b03dbf28cf3f47f26449beb5}{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_aa5aa5003d63e4c205662586d13934626}{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-hize\-\_\-t offset, \hyperlink{async__stream_8h_a3c6ab6b8e797a0bab6f9f150087ef39b}{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a18a73dda4c430c519fd68acff33629f7}{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_aca0105f67fde8666e6e0f9b907136634}{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{async__stream_8c_a8ef4f8fa777f128380fe3e37a1d1f907}{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size, \hyperlink{async__stream_8h_a388210c1b03dbf28cf3f47f26449beb5}{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv \-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-)
\item 
\hyperlink{structtb__aicp__ref__t}{tb\-\_\-aicp\-\_\-ref\-\_\-t} \hyperlink{async__stream_8c_adef4ceb775e0ce07ba5df4da57f586b6}{tb\-\_\-async\-\_\-stream\-\_\-aicp} (\hyperlink{structtb__async__stream__ref__t}{tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Treasure Box Library

T\-Box is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U Lesser General Public License as published by the Free Software Foundation; either version 2.\-1 of the License, or (at your option) any later version.

T\-Box is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U Lesser General Public License for more details.

You should have received a copy of the G\-N\-U Lesser General Public License along with T\-Box; If not, see \href{http://www.gnu.org/licenses/}{\tt http\-://www.\-gnu.\-org/licenses/}

Copyright (C) 2009 -\/ 2015, ruki All rights reserved.

\begin{DoxyAuthor}{Author}
ruki 
\end{DoxyAuthor}


Definition in file \hyperlink{async__stream_8c_source}{async\-\_\-stream.\-c}.



\subsection{Function Documentation}
\hypertarget{async__stream_8c_adef4ceb775e0ce07ba5df4da57f586b6}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-aicp@{tb\-\_\-async\-\_\-stream\-\_\-aicp}}
\index{tb\-\_\-async\-\_\-stream\-\_\-aicp@{tb\-\_\-async\-\_\-stream\-\_\-aicp}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-aicp}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-aicp\-\_\-ref\-\_\-t} tb\-\_\-async\-\_\-stream\-\_\-aicp (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_adef4ceb775e0ce07ba5df4da57f586b6}
the stream aicp


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream aicp 
\end{DoxyReturn}


Definition at line 1302 of file async\-\_\-stream.\-c.



Referenced by tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-cache(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-charset(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-chunked(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-null(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-zip(), and tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-http().

\hypertarget{async__stream_8c_a12003f95694477702c9146342488bbc5}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-beof@{tb\-\_\-async\-\_\-stream\-\_\-beof}}
\index{tb\-\_\-async\-\_\-stream\-\_\-beof@{tb\-\_\-async\-\_\-stream\-\_\-beof}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-beof}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-beof (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a12003f95694477702c9146342488bbc5}
the stream is end?


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 678 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-offset(), and tb\-\_\-async\-\_\-stream\-\_\-size().

\hypertarget{async__stream_8c_a20eb002f98e476d4dc1565d2238da30b}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a20eb002f98e476d4dc1565d2238da30b}
close the stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1065 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try().

\hypertarget{async__stream_8c_a8b75da9e00c39d965c8eb908da3a4b6c}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try@{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try}}
\index{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try@{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a8b75da9e00c39d965c8eb908da3a4b6c}
try closing the stream for stream\-: file, filter, or closed stream...


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1031 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-(), tb\-\_\-async\-\_\-stream\-\_\-exit(), and tb\-\_\-async\-\_\-transfer\-\_\-clos\-\_\-try().

\hypertarget{async__stream_8c_abea79f196d9f1c8a909b28679a5f80f9}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-ctrl@{tb\-\_\-async\-\_\-stream\-\_\-ctrl}}
\index{tb\-\_\-async\-\_\-stream\-\_\-ctrl@{tb\-\_\-async\-\_\-stream\-\_\-ctrl}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-ctrl}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-ctrl (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{ctrl, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_abea79f196d9f1c8a909b28679a5f80f9}
ctrl stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em ctrl} & the ctrl code\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 744 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-cache(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-charset(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-chunked(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-null(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-zip(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-data(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-file(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-http(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-sock(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url(), tb\-\_\-async\-\_\-stream\-\_\-offset(), tb\-\_\-async\-\_\-stream\-\_\-size(), tb\-\_\-async\-\_\-stream\-\_\-timeout(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data(), and tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url().

\hypertarget{async__stream_8c_a288e1c22f5710fc11841b82c9db33d2e}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args@{tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args}}
\index{tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args@{tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{ctrl, }
\item[{tb\-\_\-va\-\_\-list\-\_\-t}]{args}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a288e1c22f5710fc11841b82c9db33d2e}
ctrl stream with arguments


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em ctrl} & the ctrl code \\
\hline
{\em args} & the ctrl args\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 763 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-ctrl(), tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-istream(), and tb\-\_\-async\-\_\-transfer\-\_\-ctrl\-\_\-ostream().

\hypertarget{async__stream_8c_af70b11177bbb9aa77517f086fa2ec5f2}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-exit@{tb\-\_\-async\-\_\-stream\-\_\-exit}}
\index{tb\-\_\-async\-\_\-stream\-\_\-exit@{tb\-\_\-async\-\_\-stream\-\_\-exit}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-exit}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-exit (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_af70b11177bbb9aa77517f086fa2ec5f2}
exit stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 585 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try(), tb\-\_\-async\-\_\-stream\-\_\-kill(), and tb\-\_\-buffer\-\_\-exit().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-init(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-cache(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-charset(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-chunked(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-null(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter\-\_\-from\-\_\-zip(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-data(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-file(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-http(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-sock(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-http(), tb\-\_\-async\-\_\-transfer\-\_\-exit(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data(), and tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url().

\hypertarget{async__stream_8c_a8b86552757bc01e9da050368f18d2091}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-init@{tb\-\_\-async\-\_\-stream\-\_\-init}}
\index{tb\-\_\-async\-\_\-stream\-\_\-init@{tb\-\_\-async\-\_\-stream\-\_\-init}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} tb\-\_\-async\-\_\-stream\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aicp\-\_\-ref\-\_\-t}}]{aicp, }
\item[{tb\-\_\-size\-\_\-t}]{type, }
\item[{tb\-\_\-size\-\_\-t}]{type\-\_\-size, }
\item[{tb\-\_\-size\-\_\-t}]{rcache, }
\item[{tb\-\_\-size\-\_\-t}]{wcache, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)}]{open\-\_\-try, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)}]{clos\-\_\-try, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, {\bf tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{open, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, {\bf tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{clos, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)}]{exit, }
\item[{tb\-\_\-void\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream)}]{kill, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t ctrl, tb\-\_\-va\-\_\-list\-\_\-t args)}]{ctrl, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, tb\-\_\-byte\-\_\-t $\ast$data, tb\-\_\-size\-\_\-t size, {\bf tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{read, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size, {\bf tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{writ, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-hize\-\_\-t offset, {\bf tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{seek, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-bool\-\_\-t bclosing, {\bf tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{sync, }
\item[{tb\-\_\-bool\-\_\-t($\ast$)({\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} stream, tb\-\_\-size\-\_\-t delay, {\bf tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-func\-\_\-t} func, tb\-\_\-cpointer\-\_\-t priv)}]{task}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a8b86552757bc01e9da050368f18d2091}
init async stream


\begin{DoxyParams}{Parameters}
{\em aicp} & the aicp \\
\hline
{\em type} & the stream type \\
\hline
{\em type\-\_\-size} & the stream type size \\
\hline
{\em rcache} & the read cache size \\
\hline
{\em wcache} & the writ cache size \\
\hline
{\em open} & the stream impl func\-: open \\
\hline
{\em clos} & the stream impl func\-: clos \\
\hline
{\em exit} & the stream impl func\-: exit, optional \\
\hline
{\em ctrl} & the stream impl func\-: ctrl \\
\hline
{\em wait} & the stream impl func\-: wait \\
\hline
{\em read} & the stream impl func\-: read \\
\hline
{\em writ} & the stream impl func\-: writ \\
\hline
{\em seek} & the stream impl func\-: seek, optional \\
\hline
{\em sync} & the stream impl func\-: sync, optional \\
\hline
{\em kill} & the stream impl func\-: kill, optional\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream
\end{DoxyReturn}

\begin{DoxyCode}
\textcolor{comment}{// the custom xxxx async stream type}
\textcolor{keyword}{typedef} \textcolor{keyword}{struct }\_\_tb\_async\_stream\_xxxx\_impl\_t
\{
    \textcolor{comment}{// the xxxx data}
    tb\_handle\_t         xxxx;

\}tb\_async\_stream\_xxxx\_impl\_t;

\textcolor{keyword}{static} tb\_bool\_t tb\_async\_stream\_xxxx\_impl\_open(\hyperlink{structtb__async__stream__ref__t}{tb\_async\_stream\_ref\_t} stream, 
      \hyperlink{async__stream_8h_a04a858fc06433335236db4bddcdfc1cb}{tb\_async\_stream\_open\_func\_t} func, tb\_cpointer\_t priv)
\{
    \textcolor{comment}{// check}
    tb\_async\_stream\_xxxx\_impl\_t* impl = (tb\_async\_stream\_xxxx\_impl\_t*)stream;
    tb\_assert\_and\_check\_return\_val(impl, tb\_false);

    \textcolor{comment}{// ok}
    \textcolor{keywordflow}{return} tb\_true;
\}
\textcolor{keyword}{static} tb\_bool\_t tb\_async\_stream\_xxxx\_impl\_clos(\hyperlink{structtb__async__stream__ref__t}{tb\_async\_stream\_ref\_t} stream, 
      \hyperlink{async__stream_8h_ac36a4cc85a417f2ac5394297fb801a20}{tb\_async\_stream\_clos\_func\_t}, tb\_cpointer\_t priv)
\{
    \textcolor{comment}{// check}
    tb\_async\_stream\_xxxx\_impl\_t* impl = (tb\_async\_stream\_xxxx\_impl\_t*)stream;
    tb\_assert\_and\_check\_return\_val(impl, tb\_false);

    \textcolor{comment}{// ok}
    \textcolor{keywordflow}{return} tb\_true;
\}

\textcolor{comment}{// define other xxxx async stream func}
\textcolor{comment}{// ...}

\textcolor{comment}{// init async stream}
\hyperlink{structtb__async__stream__ref__t}{tb\_async\_stream\_ref\_t} stream = \hyperlink{async__stream_8c_a8b86552757bc01e9da050368f18d2091}{tb\_async\_stream\_init}(    
      \hyperlink{aicp_8h_a7026294c6ebb11feb997c6f542be5d4b}{tb\_aicp}()
                                                    ,   TB\_STREAM\_TYPE\_XXXX
                                                    ,   \textcolor{keyword}{sizeof}(tb\_async\_stream\_xxxx\_impl\_t)
                                                    ,   0
                                                    ,   0
                                                    ,   tb\_async\_stream\_xxxx\_impl\_open\_try
                                                    ,   tb\_async\_stream\_xxxx\_impl\_clos\_try
                                                    ,   tb\_async\_stream\_xxxx\_impl\_open
                                                    ,   tb\_async\_stream\_xxxx\_impl\_clos
                                                    ,   tb\_async\_stream\_xxxx\_impl\_exit
                                                    ,   tb\_async\_stream\_xxxx\_impl\_kill
                                                    ,   tb\_async\_stream\_xxxx\_impl\_ctrl
                                                    ,   tb\_async\_stream\_xxxx\_impl\_read
                                                    ,   tb\_async\_stream\_xxxx\_impl\_writ
                                                    ,   tb\_async\_stream\_xxxx\_impl\_seek
                                                    ,   tb\_async\_stream\_xxxx\_impl\_sync
                                                    ,   tb\_async\_stream\_xxxx\_impl\_task
                                                    );

\textcolor{comment}{// using async stream}
\textcolor{comment}{// ...}
\end{DoxyCode}
 

Definition at line 436 of file async\-\_\-stream.\-c.



References tb\-\_\-aicp(), tb\-\_\-async\-\_\-stream\-\_\-exit(), and tb\-\_\-buffer\-\_\-init().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-data(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-file(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-filter(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-http(), and tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-sock().

\hypertarget{async__stream_8c_af40318593b81e53de49caf9469b31376}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url@{tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url}}
\index{tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url@{tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t} tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-from\-\_\-url (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-aicp\-\_\-ref\-\_\-t}}]{aicp, }
\item[{tb\-\_\-char\-\_\-t const $\ast$}]{url}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_af40318593b81e53de49caf9469b31376}
init stream from url


\begin{DoxyParams}{Parameters}
{\em aicp} & the aicp, using the default aicp if be null \\
\hline
{\em url} & the url 
\begin{DoxyPre}
data://base64
\href{file://path}{\tt file://path} or unix path: e.g. /root/xxxx/file
sock://host:port?tcp=
sock://host:port?udp=
socks://host:port
\href{http://host:port/path?arg0=&arg1=..}{\tt http://host:port/path?arg0=&arg1=..}.
\href{https://host:port/path?arg0=&arg1=..}{\tt https://host:port/path?arg0=&arg1=..}.
\end{DoxyPre}
\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream 
\end{DoxyReturn}


Definition at line 526 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl(), tb\-\_\-async\-\_\-stream\-\_\-exit(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-data(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-file(), tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-http(), and tb\-\_\-async\-\_\-stream\-\_\-init\-\_\-sock().



Referenced by tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url(), and tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url().

\hypertarget{async__stream_8c_a121c284b2ccf8fe82c56f7a4bfc7a180}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed@{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed}}
\index{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed@{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-closed (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a121c284b2ccf8fe82c56f7a4bfc7a180}
is closed?


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 711 of file async\-\_\-stream.\-c.



Referenced by tb\-\_\-async\-\_\-stream\-\_\-clos\-\_\-try(), and tb\-\_\-async\-\_\-stream\-\_\-ctrl\-\_\-with\-\_\-args().

\hypertarget{async__stream_8c_a731ea7b045d0f1e9af983f97efb9d9b5}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed@{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed}}
\index{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed@{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-killed (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a731ea7b045d0f1e9af983f97efb9d9b5}
is killed?


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 723 of file async\-\_\-stream.\-c.

\hypertarget{async__stream_8c_a84fef2d6ad97dca628ec5ee2fdb4373e}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened@{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened}}
\index{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened@{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a84fef2d6ad97dca628ec5ee2fdb4373e}
is opened?


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 699 of file async\-\_\-stream.\-c.



Referenced by tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try().

\hypertarget{async__stream_8c_a069256f0605cf82b64f3fdbe4e90ba16}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-kill@{tb\-\_\-async\-\_\-stream\-\_\-kill}}
\index{tb\-\_\-async\-\_\-stream\-\_\-kill@{tb\-\_\-async\-\_\-stream\-\_\-kill}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-kill}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-kill (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a069256f0605cf82b64f3fdbe4e90ba16}
kill stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
\end{DoxyParams}


Definition at line 942 of file async\-\_\-stream.\-c.



References tb\-\_\-state\-\_\-cstr().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-exit(), and tb\-\_\-async\-\_\-transfer\-\_\-kill().

\hypertarget{async__stream_8c_ac2aeae3ba175ed5aa80186c2bdb95953}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-left@{tb\-\_\-async\-\_\-stream\-\_\-left}}
\index{tb\-\_\-async\-\_\-stream\-\_\-left@{tb\-\_\-async\-\_\-stream\-\_\-left}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-left}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-hize\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-left (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_ac2aeae3ba175ed5aa80186c2bdb95953}
the stream left size and not seeking it


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream left size, no size\-: infinity, empty or end\-: 0 
\end{DoxyReturn}


Definition at line 662 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-offset(), and tb\-\_\-async\-\_\-stream\-\_\-size().

\hypertarget{async__stream_8c_adc230c8ff4e752ed6e9c3505490ce248}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-offset@{tb\-\_\-async\-\_\-stream\-\_\-offset}}
\index{tb\-\_\-async\-\_\-stream\-\_\-offset@{tb\-\_\-async\-\_\-stream\-\_\-offset}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-hize\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-offset (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_adc230c8ff4e752ed6e9c3505490ce248}
the stream offset

the offset is read + writ and using seek for modifying it if size != -\/1, .e.\-g\-: data, file, .. the offset is calculated from the last read/writ and not seeking it if size == -\/1, .e.\-g\-: sock, filter, ..


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream offset 
\end{DoxyReturn}


Definition at line 690 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-beof(), tb\-\_\-async\-\_\-stream\-\_\-left(), tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-(), and tb\-\_\-async\-\_\-transfer\-\_\-open().

\hypertarget{async__stream_8c_aaf49b0a7f59c8c2c88a0ecc2561a3bab}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-open\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_aaf49b0a7f59c8c2c88a0ecc2561a3bab}
open the stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1005 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-(), tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-(), and tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-().

\hypertarget{async__stream_8c_a75f9ee1824cd5248d2024e3d5a25d60b}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a75f9ee1824cd5248d2024e3d5a25d60b}
open and read the stream, open it first if not opened


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em size} & the size, using the default size be zero \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1196 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-(), and tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-().

\hypertarget{async__stream_8c_aa5aa5003d63e4c205662586d13934626}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-hize\-\_\-t}]{offset, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_aa5aa5003d63e4c205662586d13934626}
open and seek the stream, open it first if not opened


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em offset} & the offset \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1235 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-(), and tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-().

\hypertarget{async__stream_8c_a485c75d8838bc13e764b32ba33f70d10}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try}}
\index{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-try (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a485c75d8838bc13e764b32ba33f70d10}
try opening the stream for stream\-: file, filter, ...


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 975 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-is\-\_\-opened().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-().

\hypertarget{async__stream_8c_a252a5221146cca9d62c4facec20c2a10}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-byte\-\_\-t const $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a252a5221146cca9d62c4facec20c2a10}
open and writ the stream, open it first if not opened


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1215 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-(), and tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-().

\hypertarget{async__stream_8c_ac7ded3ad146d1eabb9a8b8f84e1c711f}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-read\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_ac7ded3ad146d1eabb9a8b8f84e1c711f}
open and read the stream, open it first if not opened


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em size} & the read size, using the default size if be zero \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1092 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-read\-\_\-().

\hypertarget{async__stream_8c_a18a73dda4c430c519fd68acff33629f7}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{delay, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a18a73dda4c430c519fd68acff33629f7}
read the stream after the delay time


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em delay} & the delay time, ms \\
\hline
{\em size} & the read size, using the default size if be zero \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1254 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-(), and tb\-\_\-buffer\-\_\-size().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-().

\hypertarget{async__stream_8c_a3a9e37955c8e586f26f13881e22ffdc0}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-hize\-\_\-t}]{offset, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a3a9e37955c8e586f26f13881e22ffdc0}
seek the stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em offset} & the offset \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1102 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-offset(), tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-(), and tb\-\_\-buffer\-\_\-size().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-seek\-\_\-().

\hypertarget{async__stream_8c_a46008a9302c1992b1b8ddc1aa8a0cf08}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-size@{tb\-\_\-async\-\_\-stream\-\_\-size}}
\index{tb\-\_\-async\-\_\-stream\-\_\-size@{tb\-\_\-async\-\_\-stream\-\_\-size}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-hong\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-size (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a46008a9302c1992b1b8ddc1aa8a0cf08}
the stream size and not seeking it


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream size, no size\-: -\/1, empty or error\-: 0 
\end{DoxyReturn}


Definition at line 653 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-beof(), tb\-\_\-async\-\_\-stream\-\_\-left(), and tb\-\_\-async\-\_\-transfer\-\_\-open().

\hypertarget{async__stream_8c_af1b305819d3286898fd8bb60faa61df0}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-bool\-\_\-t}]{bclosing, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-sync\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_af1b305819d3286898fd8bb60faa61df0}
sync the stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em bclosing} & sync the tail data for closing \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1138 of file async\-\_\-stream.\-c.



References tb\-\_\-buffer\-\_\-data(), and tb\-\_\-buffer\-\_\-size().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-read\-\_\-after\-\_\-(), and tb\-\_\-async\-\_\-stream\-\_\-seek\-\_\-().

\hypertarget{async__stream_8c_aea8ef9bea7ad54720ea59ecd3347266f}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-task\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{delay, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-task\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_aea8ef9bea7ad54720ea59ecd3347266f}
task the stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em delay} & the delay time, ms \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1177 of file async\-\_\-stream.\-c.

\hypertarget{async__stream_8c_aa4ecf52d287ecc273f6c210c4c7374e8}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-timeout@{tb\-\_\-async\-\_\-stream\-\_\-timeout}}
\index{tb\-\_\-async\-\_\-stream\-\_\-timeout@{tb\-\_\-async\-\_\-stream\-\_\-timeout}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-timeout}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-timeout (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_aa4ecf52d287ecc273f6c210c4c7374e8}
the stream timeout


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream timeout 
\end{DoxyReturn}


Definition at line 735 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-ctrl().

\hypertarget{async__stream_8c_a5b33d5e4a83d350bedc7b1bc3ed71e04}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-type@{tb\-\_\-async\-\_\-stream\-\_\-type}}
\index{tb\-\_\-async\-\_\-stream\-\_\-type@{tb\-\_\-async\-\_\-stream\-\_\-type}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-size\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-type (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a5b33d5e4a83d350bedc7b1bc3ed71e04}
the stream type


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream type 
\end{DoxyReturn}


Definition at line 644 of file async\-\_\-stream.\-c.



Referenced by tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-data(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-istream\-\_\-from\-\_\-url(), tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-data(), and tb\-\_\-async\-\_\-transfer\-\_\-init\-\_\-ostream\-\_\-from\-\_\-url().

\hypertarget{async__stream_8c_a2fd7518c47d52640ffdea2905af5cecd}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-url@{tb\-\_\-async\-\_\-stream\-\_\-url}}
\index{tb\-\_\-async\-\_\-stream\-\_\-url@{tb\-\_\-async\-\_\-stream\-\_\-url}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-url}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-url\-\_\-t}$\ast$ tb\-\_\-async\-\_\-stream\-\_\-url (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a2fd7518c47d52640ffdea2905af5cecd}
the stream url


\begin{DoxyParams}{Parameters}
{\em stream} & the stream\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the stream url 
\end{DoxyReturn}


Definition at line 635 of file async\-\_\-stream.\-c.

\hypertarget{async__stream_8c_ae4865ba037129a720297e6534bf753fe}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-byte\-\_\-t const $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_ae4865ba037129a720297e6534bf753fe}
writ the stream


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1097 of file async\-\_\-stream.\-c.



References tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-().



Referenced by tb\-\_\-async\-\_\-stream\-\_\-open\-\_\-writ\-\_\-().

\hypertarget{async__stream_8c_a8ef4f8fa777f128380fe3e37a1d1f907}{\index{async\-\_\-stream.\-c@{async\-\_\-stream.\-c}!tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-}}
\index{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-@{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-}!async_stream.c@{async\-\_\-stream.\-c}}
\subsubsection[{tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-after\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-ref\-\_\-t}}]{stream, }
\item[{tb\-\_\-size\-\_\-t}]{delay, }
\item[{tb\-\_\-byte\-\_\-t const $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{{\bf tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-func\-\_\-t}}]{func, }
\item[{tb\-\_\-cpointer\-\_\-t priv}]{\-\_\-\-\_\-tb\-\_\-debug\-\_\-decl\-\_\-\-\_\-}
\end{DoxyParamCaption}
)}}\label{async__stream_8c_a8ef4f8fa777f128380fe3e37a1d1f907}
writ the stream after the delay time


\begin{DoxyParams}{Parameters}
{\em stream} & the stream \\
\hline
{\em delay} & the delay time, ms \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size \\
\hline
{\em func} & the func \\
\hline
{\em priv} & the func data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 1283 of file async\-\_\-stream.\-c.



Referenced by tb\-\_\-async\-\_\-stream\-\_\-writ\-\_\-().

