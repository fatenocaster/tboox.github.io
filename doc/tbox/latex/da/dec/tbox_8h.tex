\hypertarget{tbox_8h}{\section{src/tbox/tbox.h File Reference}
\label{tbox_8h}\index{src/tbox/tbox.\-h@{src/tbox/tbox.\-h}}
}
{\ttfamily \#include \char`\"{}prefix.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}algorithm/algorithm.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}container/container.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}platform/platform.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}database/database.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}network/network.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}charset/charset.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}memory/memory.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}stream/stream.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}string/string.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}object/object.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}utils/utils.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}math/math.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}libc/libc.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}libm/libm.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}asio/asio.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}xml/xml.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}zip/zip.\-h\char`\"{}}\\*
Include dependency graph for tbox.\-h\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d72/tbox_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=156pt]{d2/d6b/tbox_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{tbox_8h_a771242cc0f4834d0a427c06b07577c6e}{\#define {\bfseries T\-B\-\_\-\-M\-O\-D\-E\-\_\-\-D\-E\-B\-U\-G}~(1)}\label{tbox_8h_a771242cc0f4834d0a427c06b07577c6e}

\item 
\hypertarget{tbox_8h_aec112d80c5f56ea5e63d0289290a6c19}{\#define {\bfseries T\-B\-\_\-\-M\-O\-D\-E\-\_\-\-S\-M\-A\-L\-L}~(2)}\label{tbox_8h_aec112d80c5f56ea5e63d0289290a6c19}

\item 
\hypertarget{tbox_8h_a964122fe83b73b0b9ff309d6bf30b74b}{\#define {\bfseries \-\_\-\-\_\-tb\-\_\-mode\-\_\-debug\-\_\-\-\_\-}~(0)}\label{tbox_8h_a964122fe83b73b0b9ff309d6bf30b74b}

\item 
\hypertarget{tbox_8h_a86f1d60cefc953384b2589a5f9c31fef}{\#define {\bfseries \-\_\-\-\_\-tb\-\_\-mode\-\_\-small\-\_\-\-\_\-}~(0)}\label{tbox_8h_a86f1d60cefc953384b2589a5f9c31fef}

\item 
\#define \hyperlink{tbox_8h_a5c8acfd66dc728eb0baf8057491a90a8}{tb\-\_\-init}(priv, data, size)~\hyperlink{tbox_8h_a104e37260e80b72c8dba96129d2041fb}{tb\-\_\-init\-\_\-}(priv, data, size, (tb\-\_\-size\-\_\-t)(\-\_\-\-\_\-tb\-\_\-mode\-\_\-debug\-\_\-\-\_\- $\vert$ \-\_\-\-\_\-tb\-\_\-mode\-\_\-small\-\_\-\-\_\-), T\-B\-\_\-\-V\-E\-R\-S\-I\-O\-N\-\_\-\-B\-U\-I\-L\-D)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\-\_\-\-\_\-tb\-\_\-extern\-\_\-c\-\_\-enter\-\_\-\-\_\- tb\-\_\-bool\-\_\-t \hyperlink{tbox_8h_a104e37260e80b72c8dba96129d2041fb}{tb\-\_\-init\-\_\-} (tb\-\_\-handle\-\_\-t priv, tb\-\_\-byte\-\_\-t $\ast$data, tb\-\_\-size\-\_\-t size, tb\-\_\-size\-\_\-t mode, tb\-\_\-hize\-\_\-t build)
\item 
\hypertarget{tbox_8h_a7bc1fe05e329c340489983d2f9fd1d58}{tb\-\_\-void\-\_\-t \hyperlink{tbox_8h_a7bc1fe05e329c340489983d2f9fd1d58}{tb\-\_\-exit} (tb\-\_\-noarg\-\_\-t)}\label{tbox_8h_a7bc1fe05e329c340489983d2f9fd1d58}

\begin{DoxyCompactList}\small\item\em exit the tbox library \end{DoxyCompactList}\item 
\hyperlink{structtb__version__t}{tb\-\_\-version\-\_\-t} const $\ast$ \hyperlink{tbox_8h_a3e028df1d7c14019c6ebe7990971f9c3}{tb\-\_\-version} (tb\-\_\-noarg\-\_\-t)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Treasure Box Library

T\-Box is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U Lesser General Public License as published by the Free Software Foundation; either version 2.\-1 of the License, or (at your option) any later version.

T\-Box is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U Lesser General Public License for more details.

You should have received a copy of the G\-N\-U Lesser General Public License along with T\-Box; If not, see \href{http://www.gnu.org/licenses/}{\tt http\-://www.\-gnu.\-org/licenses/}

Copyright (C) 2009 -\/ 2015, ruki All rights reserved.

\begin{DoxyAuthor}{Author}
ruki 
\end{DoxyAuthor}


Definition in file \hyperlink{tbox_8h_source}{tbox.\-h}.



\subsection{Macro Definition Documentation}
\hypertarget{tbox_8h_a5c8acfd66dc728eb0baf8057491a90a8}{\index{tbox.\-h@{tbox.\-h}!tb\-\_\-init@{tb\-\_\-init}}
\index{tb\-\_\-init@{tb\-\_\-init}!tbox.h@{tbox.\-h}}
\subsubsection[{tb\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}\#define tb\-\_\-init(
\begin{DoxyParamCaption}
\item[{}]{priv, }
\item[{}]{data, }
\item[{}]{size}
\end{DoxyParamCaption}
)~{\bf tb\-\_\-init\-\_\-}(priv, data, size, (tb\-\_\-size\-\_\-t)(\-\_\-\-\_\-tb\-\_\-mode\-\_\-debug\-\_\-\-\_\- $\vert$ \-\_\-\-\_\-tb\-\_\-mode\-\_\-small\-\_\-\-\_\-), T\-B\-\_\-\-V\-E\-R\-S\-I\-O\-N\-\_\-\-B\-U\-I\-L\-D)}}\label{tbox_8h_a5c8acfd66dc728eb0baf8057491a90a8}
init tbox


\begin{DoxyParams}{Parameters}
{\em priv} & the platform private data pass J\-N\-I\-Env$\ast$ env for android pass tb\-\_\-null for other platform \\
\hline
{\em data} & the memory data for the memory pool, uses the native memory if be tb\-\_\-null \\
\hline
{\em size} & the memory size for the memory pool, uses the native memory if be zero\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false
\end{DoxyReturn}

\begin{DoxyCode}
\textcolor{preprocessor}{#include "\hyperlink{tbox_8h}{tbox/tbox.h}"}

\textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char}** argv)
\{
    \textcolor{comment}{// init tbox}
    \textcolor{keywordflow}{if} (!\hyperlink{tbox_8h_a5c8acfd66dc728eb0baf8057491a90a8}{tb\_init}(tb\_null, tb\_null, 0)) \textcolor{keywordflow}{return} 0;

    \textcolor{comment}{// print info with tag}
    tb\_trace\_i(\textcolor{stringliteral}{"hello tbox"});

    \textcolor{comment}{// print info only for debug}
    tb\_trace\_d(\textcolor{stringliteral}{"hello tbox"}); 

    \textcolor{comment}{// print error info}
    tb\_trace\_e(\textcolor{stringliteral}{"hello tbox"});

    \textcolor{comment}{// init stream}
    \hyperlink{structtb__stream__ref__t}{tb\_stream\_ref\_t} stream = \hyperlink{stream_8c_a86346929e272133b7fab8a471280c92e}{tb\_stream\_init\_from\_url}(\textcolor{stringliteral}{"
      http://www.xxxx.com/index.html"});
    \textcolor{keywordflow}{if} (stream)
    \{
        \textcolor{comment}{// save stream data to file}
        \hyperlink{transfer_8c_a4e30d820b0586f78f26c2c9532861fee}{tb\_transfer\_done\_to\_url}(stream, \textcolor{stringliteral}{"/home/file/index.html"}, 0, tb\_null, tb\_null
      );

        \textcolor{comment}{// exit stream}
        \hyperlink{stream_8c_a27b54716434d012f8fcf143620db6701}{tb\_stream\_exit}(stream);
    \}

    \textcolor{comment}{// block: save http to file}
    \hyperlink{transfer_8c_a3e25fa30dace0cae42f594c23ad11875}{tb\_transfer\_done\_url}(\textcolor{stringliteral}{"http://www.xxxx.com/index.html"}, \textcolor{stringliteral}{"/home/file/index.html"}, 0, 
      tb\_null, tb\_null);

    \textcolor{comment}{// async: save http to file}
    \hyperlink{transfer__pool_8c_af7180f46248297da74bae9c9c19e2966}{tb\_transfer\_pool\_done}(\hyperlink{transfer__pool_8h_ac35951420c7588e373ce06c298df10a3}{tb\_transfer\_pool}(), \textcolor{stringliteral}{"
      http://www.xxxx.com/index0.html"}, \textcolor{stringliteral}{"/home/file/index0.html"}, 0, 0, tb\_null, tb\_null);
    \hyperlink{transfer__pool_8c_af7180f46248297da74bae9c9c19e2966}{tb\_transfer\_pool\_done}(\hyperlink{transfer__pool_8h_ac35951420c7588e373ce06c298df10a3}{tb\_transfer\_pool}(), \textcolor{stringliteral}{"
      http://www.xxxx.com/index1.html"}, \textcolor{stringliteral}{"/home/file/index2.html"}, 0, 0, tb\_null, tb\_null);
    \hyperlink{transfer__pool_8c_af7180f46248297da74bae9c9c19e2966}{tb\_transfer\_pool\_done}(\hyperlink{transfer__pool_8h_ac35951420c7588e373ce06c298df10a3}{tb\_transfer\_pool}(), \textcolor{stringliteral}{"
      http://www.xxxx.com/index2.html"}, \textcolor{stringliteral}{"/home/file/index3.html"}, 0, 0, tb\_null, tb\_null);
    \hyperlink{transfer__pool_8c_af7180f46248297da74bae9c9c19e2966}{tb\_transfer\_pool\_done}(\hyperlink{transfer__pool_8h_ac35951420c7588e373ce06c298df10a3}{tb\_transfer\_pool}(), \textcolor{stringliteral}{"
      http://www.xxxx.com/index3.html"}, \textcolor{stringliteral}{"/home/file/index4.html"}, 0, 0, tb\_null, tb\_null);

    \textcolor{comment}{// ...}

    \textcolor{comment}{// exit tbox}
    \hyperlink{tbox_8h_a7bc1fe05e329c340489983d2f9fd1d58}{tb\_exit}();
    \textcolor{keywordflow}{return} 0;
\}
\end{DoxyCode}
 

Definition at line 123 of file tbox.\-h.



\subsection{Function Documentation}
\hypertarget{tbox_8h_a104e37260e80b72c8dba96129d2041fb}{\index{tbox.\-h@{tbox.\-h}!tb\-\_\-init\-\_\-@{tb\-\_\-init\-\_\-}}
\index{tb\-\_\-init\-\_\-@{tb\-\_\-init\-\_\-}!tbox.h@{tbox.\-h}}
\subsubsection[{tb\-\_\-init\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\-\_\-\-\_\-tb\-\_\-extern\-\_\-c\-\_\-enter\-\_\-\-\_\- tb\-\_\-bool\-\_\-t tb\-\_\-init\-\_\- (
\begin{DoxyParamCaption}
\item[{tb\-\_\-handle\-\_\-t}]{priv, }
\item[{tb\-\_\-byte\-\_\-t $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size, }
\item[{tb\-\_\-size\-\_\-t}]{mode, }
\item[{tb\-\_\-hize\-\_\-t}]{build}
\end{DoxyParamCaption}
)}}\label{tbox_8h_a104e37260e80b72c8dba96129d2041fb}
init the tbox library


\begin{DoxyParams}{Parameters}
{\em priv} & the platform private data pass J\-N\-I\-Env$\ast$ env for android pass tb\-\_\-null for other platform \\
\hline
{\em data} & the memory data for the memory pool, uses the native memory if be tb\-\_\-null \\
\hline
{\em size} & the memory size for the memory pool, uses the native memory if be zero \\
\hline
{\em mode} & the compile mode for check {\bfseries tb\-\_\-small} and {\bfseries tb\-\_\-debug} \\
\hline
{\em build} & the build version\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 130 of file tbox.\-c.



References tb\-\_\-network\-\_\-init(), tb\-\_\-object\-\_\-context\-\_\-init(), tb\-\_\-platform\-\_\-init(), and tb\-\_\-singleton\-\_\-init().

\hypertarget{tbox_8h_a3e028df1d7c14019c6ebe7990971f9c3}{\index{tbox.\-h@{tbox.\-h}!tb\-\_\-version@{tb\-\_\-version}}
\index{tb\-\_\-version@{tb\-\_\-version}!tbox.h@{tbox.\-h}}
\subsubsection[{tb\-\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-version\-\_\-t} const$\ast$ tb\-\_\-version (
\begin{DoxyParamCaption}
\item[{tb\-\_\-noarg\-\_\-t}]{}
\end{DoxyParamCaption}
)}}\label{tbox_8h_a3e028df1d7c14019c6ebe7990971f9c3}
the tbox version

\begin{DoxyReturn}{Returns}
the tbox version 
\end{DoxyReturn}
