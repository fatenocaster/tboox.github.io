\hypertarget{socket_8h}{\section{src/tbox/platform/socket.h File Reference}
\label{socket_8h}\index{src/tbox/platform/socket.\-h@{src/tbox/platform/socket.\-h}}
}
{\ttfamily \#include \char`\"{}prefix.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}../network/ipv4.\-h\char`\"{}}\\*
Include dependency graph for socket.\-h\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/d18/socket_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/daf/socket_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{socket_8h_a23e6a3c4fa38bc3ce86b01f8373a8165}{tb\-\_\-socket\-\_\-type\-\_\-e} \{ {\bfseries T\-B\-\_\-\-S\-O\-C\-K\-E\-T\-\_\-\-T\-Y\-P\-E\-\_\-\-N\-U\-L} = 0, 
{\bfseries T\-B\-\_\-\-S\-O\-C\-K\-E\-T\-\_\-\-T\-Y\-P\-E\-\_\-\-T\-C\-P} = 1, 
{\bfseries T\-B\-\_\-\-S\-O\-C\-K\-E\-T\-\_\-\-T\-Y\-P\-E\-\_\-\-U\-D\-P} = 2
 \}
\begin{DoxyCompactList}\small\item\em the socket type enum \end{DoxyCompactList}\item 
enum \hyperlink{socket_8h_a94a30580a3aae6381c5917d1c0d1211f}{tb\-\_\-socket\-\_\-kill\-\_\-e} \{ {\bfseries T\-B\-\_\-\-S\-O\-C\-K\-E\-T\-\_\-\-K\-I\-L\-L\-\_\-\-R\-O} = 0, 
{\bfseries T\-B\-\_\-\-S\-O\-C\-K\-E\-T\-\_\-\-K\-I\-L\-L\-\_\-\-W\-O} = 1, 
{\bfseries T\-B\-\_\-\-S\-O\-C\-K\-E\-T\-\_\-\-K\-I\-L\-L\-\_\-\-R\-W} = 2
 \}
\begin{DoxyCompactList}\small\item\em the socket kill enum \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} \hyperlink{socket_8h_a765ce94e64b996db1c0a3ee8e0b731f3}{tb\-\_\-socket\-\_\-init} (tb\-\_\-size\-\_\-t type)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{socket_8h_a15318667f2ccd531e4df7bdea54fcbbc}{tb\-\_\-socket\-\_\-exit} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{socket_8h_a2187c08036b6459b7c7b992c812064b8}{tb\-\_\-socket\-\_\-pair} (tb\-\_\-size\-\_\-t type, \hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} pair\mbox{[}2\mbox{]})
\item 
tb\-\_\-size\-\_\-t \hyperlink{socket_8h_a6d0e1f752face48e68f4da58d6cb48f2}{tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock)
\item 
tb\-\_\-size\-\_\-t \hyperlink{socket_8h_a01f6e8c874a29c4c3b4544081a811639}{tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock)
\item 
tb\-\_\-void\-\_\-t \hyperlink{socket_8h_a9b96c69a4c7cc82bfa5a7e55ad829422}{tb\-\_\-socket\-\_\-block} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-bool\-\_\-t block)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_afdb621ba9e1fe6c48e524fd7f4f09a91}{tb\-\_\-socket\-\_\-connect} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} const $\ast$addr, tb\-\_\-uint16\-\_\-t port)
\item 
tb\-\_\-size\-\_\-t \hyperlink{socket_8h_ae18d7f3f0022662bce6d7fadea92d653}{tb\-\_\-socket\-\_\-bind} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} const $\ast$addr, tb\-\_\-uint16\-\_\-t port)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{socket_8h_a404efa11976b3d13305564c84a77078e}{tb\-\_\-socket\-\_\-listen} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-size\-\_\-t backlog)
\item 
\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} \hyperlink{socket_8h_a979255587273a326b5eebad278a492f4}{tb\-\_\-socket\-\_\-accept} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} $\ast$addr, tb\-\_\-uint16\-\_\-t $\ast$port)
\item 
tb\-\_\-bool\-\_\-t \hyperlink{socket_8h_a3454aca0583ac3fbe9f4048bf9ac93b8}{tb\-\_\-socket\-\_\-kill} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-size\-\_\-t mode)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_ac6b7f9330cab7e81360bf5b1b4e64dd2}{tb\-\_\-socket\-\_\-recv} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-byte\-\_\-t $\ast$data, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_a8aa465bb0de8d1be6df8ec9e2c206930}{tb\-\_\-socket\-\_\-send} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_af15ea6d7f63d9d3e4869ec1afb4fc73b}{tb\-\_\-socket\-\_\-recvv} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{structtb__iovec__t}{tb\-\_\-iovec\-\_\-t} const $\ast$list, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_a4ca442142f8680d5bf0ae49785d4a5af}{tb\-\_\-socket\-\_\-sendv} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{structtb__iovec__t}{tb\-\_\-iovec\-\_\-t} const $\ast$list, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-hong\-\_\-t \hyperlink{socket_8h_a639bd1ff9182c245aef292627853422e}{tb\-\_\-socket\-\_\-sendf} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, tb\-\_\-handle\-\_\-t file, tb\-\_\-hize\-\_\-t offset, tb\-\_\-hize\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_a0a44c6c642d2b6c471224f35d0c96cef}{tb\-\_\-socket\-\_\-urecv} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} const $\ast$addr, tb\-\_\-uint16\-\_\-t port, tb\-\_\-byte\-\_\-t $\ast$data, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_a145fa405af810a3434c732d0351aaa4e}{tb\-\_\-socket\-\_\-usend} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} const $\ast$addr, tb\-\_\-uint16\-\_\-t port, tb\-\_\-byte\-\_\-t const $\ast$data, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_abb815057d59c5cd1d56c44a37a0452d4}{tb\-\_\-socket\-\_\-urecvv} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} const $\ast$addr, tb\-\_\-uint16\-\_\-t port, \hyperlink{structtb__iovec__t}{tb\-\_\-iovec\-\_\-t} const $\ast$list, tb\-\_\-size\-\_\-t size)
\item 
tb\-\_\-long\-\_\-t \hyperlink{socket_8h_ae592bcf9086d8b2fb73c28cdfd4a155a}{tb\-\_\-socket\-\_\-usendv} (\hyperlink{structtb__socket__ref__t}{tb\-\_\-socket\-\_\-ref\-\_\-t} sock, \hyperlink{uniontb__ipv4__t}{tb\-\_\-ipv4\-\_\-t} const $\ast$addr, tb\-\_\-uint16\-\_\-t port, \hyperlink{structtb__iovec__t}{tb\-\_\-iovec\-\_\-t} const $\ast$list, tb\-\_\-size\-\_\-t size)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The Treasure Box Library

T\-Box is free software; you can redistribute it and/or modify it under the terms of the G\-N\-U Lesser General Public License as published by the Free Software Foundation; either version 2.\-1 of the License, or (at your option) any later version.

T\-Box is distributed in the hope that it will be useful, but W\-I\-T\-H\-O\-U\-T A\-N\-Y W\-A\-R\-R\-A\-N\-T\-Y; without even the implied warranty of M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y or F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E. See the G\-N\-U Lesser General Public License for more details.

You should have received a copy of the G\-N\-U Lesser General Public License along with T\-Box; If not, see \href{http://www.gnu.org/licenses/}{\tt http\-://www.\-gnu.\-org/licenses/}

Copyright (C) 2009 -\/ 2015, ruki All rights reserved.

\begin{DoxyAuthor}{Author}
ruki 
\end{DoxyAuthor}


Definition in file \hyperlink{socket_8h_source}{socket.\-h}.



\subsection{Function Documentation}
\hypertarget{socket_8h_a979255587273a326b5eebad278a492f4}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-accept@{tb\-\_\-socket\-\_\-accept}}
\index{tb\-\_\-socket\-\_\-accept@{tb\-\_\-socket\-\_\-accept}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-accept}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-socket\-\_\-ref\-\_\-t} tb\-\_\-socket\-\_\-accept (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t $\ast$}]{port}
\end{DoxyParamCaption}
)}}\label{socket_8h_a979255587273a326b5eebad278a492f4}
accept socket


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the client address \\
\hline
{\em port} & the client port\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the client socket 
\end{DoxyReturn}


Definition at line 253 of file socket.\-c.



References tb\-\_\-ipv4\-\_\-set().

\hypertarget{socket_8h_ae18d7f3f0022662bce6d7fadea92d653}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-bind@{tb\-\_\-socket\-\_\-bind}}
\index{tb\-\_\-socket\-\_\-bind@{tb\-\_\-socket\-\_\-bind}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-bind}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-size\-\_\-t tb\-\_\-socket\-\_\-bind (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} const $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t}]{port}
\end{DoxyParamCaption}
)}}\label{socket_8h_ae18d7f3f0022662bce6d7fadea92d653}
bind socket


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the addr \\
\hline
{\em port} & the bind port, bind a random port if port == 0\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the bound port, failed\-: 0 
\end{DoxyReturn}


Definition at line 200 of file socket.\-c.

\hypertarget{socket_8h_a9b96c69a4c7cc82bfa5a7e55ad829422}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-block@{tb\-\_\-socket\-\_\-block}}
\index{tb\-\_\-socket\-\_\-block@{tb\-\_\-socket\-\_\-block}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-block}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-void\-\_\-t tb\-\_\-socket\-\_\-block (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-bool\-\_\-t}]{block}
\end{DoxyParamCaption}
)}}\label{socket_8h_a9b96c69a4c7cc82bfa5a7e55ad829422}
set the socket block mode


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em block} & block it? \\
\hline
\end{DoxyParams}


Definition at line 168 of file socket.\-c.

\hypertarget{socket_8h_afdb621ba9e1fe6c48e524fd7f4f09a91}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-connect@{tb\-\_\-socket\-\_\-connect}}
\index{tb\-\_\-socket\-\_\-connect@{tb\-\_\-socket\-\_\-connect}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-connect}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-connect (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} const $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t}]{port}
\end{DoxyParamCaption}
)}}\label{socket_8h_afdb621ba9e1fe6c48e524fd7f4f09a91}
connect socket


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the addr \\
\hline
{\em port} & the port\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
ok\-: 1, continue\-: 0; failed\-: -\/1 
\end{DoxyReturn}


Definition at line 177 of file socket.\-c.

\hypertarget{socket_8h_a15318667f2ccd531e4df7bdea54fcbbc}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-exit@{tb\-\_\-socket\-\_\-exit}}
\index{tb\-\_\-socket\-\_\-exit@{tb\-\_\-socket\-\_\-exit}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-exit}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-socket\-\_\-exit (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock}
\end{DoxyParamCaption}
)}}\label{socket_8h_a15318667f2ccd531e4df7bdea54fcbbc}
exit socket


\begin{DoxyParams}{Parameters}
{\em sock} & the socket\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 313 of file socket.\-c.



Referenced by tb\-\_\-aico\-\_\-open\-\_\-sock\-\_\-from\-\_\-type(), tb\-\_\-aiop\-\_\-exit(), and tb\-\_\-dns\-\_\-looker\-\_\-exit().

\hypertarget{socket_8h_a765ce94e64b996db1c0a3ee8e0b731f3}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-init@{tb\-\_\-socket\-\_\-init}}
\index{tb\-\_\-socket\-\_\-init@{tb\-\_\-socket\-\_\-init}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf tb\-\_\-socket\-\_\-ref\-\_\-t} tb\-\_\-socket\-\_\-init (
\begin{DoxyParamCaption}
\item[{tb\-\_\-size\-\_\-t}]{type}
\end{DoxyParamCaption}
)}}\label{socket_8h_a765ce94e64b996db1c0a3ee8e0b731f3}
init socket


\begin{DoxyParams}{Parameters}
{\em type} & the socket type\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the socket 
\end{DoxyReturn}
$<$ for iocp 

Definition at line 65 of file socket.\-c.



Referenced by tb\-\_\-aico\-\_\-open\-\_\-sock\-\_\-from\-\_\-type(), and tb\-\_\-dns\-\_\-looker\-\_\-init().

\hypertarget{socket_8h_a3454aca0583ac3fbe9f4048bf9ac93b8}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-kill@{tb\-\_\-socket\-\_\-kill}}
\index{tb\-\_\-socket\-\_\-kill@{tb\-\_\-socket\-\_\-kill}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-kill}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-socket\-\_\-kill (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-size\-\_\-t}]{mode}
\end{DoxyParamCaption}
)}}\label{socket_8h_a3454aca0583ac3fbe9f4048bf9ac93b8}
kill socket


\begin{DoxyParams}{Parameters}
{\em sock} & the socket\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 278 of file socket.\-c.

\hypertarget{socket_8h_a404efa11976b3d13305564c84a77078e}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-listen@{tb\-\_\-socket\-\_\-listen}}
\index{tb\-\_\-socket\-\_\-listen@{tb\-\_\-socket\-\_\-listen}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-listen}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-socket\-\_\-listen (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-size\-\_\-t}]{backlog}
\end{DoxyParamCaption}
)}}\label{socket_8h_a404efa11976b3d13305564c84a77078e}
listen socket


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em backlog} & the maximum length for the queue of pending connections\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
tb\-\_\-true or tb\-\_\-false 
\end{DoxyReturn}


Definition at line 245 of file socket.\-c.

\hypertarget{socket_8h_a2187c08036b6459b7c7b992c812064b8}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-pair@{tb\-\_\-socket\-\_\-pair}}
\index{tb\-\_\-socket\-\_\-pair@{tb\-\_\-socket\-\_\-pair}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-pair}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-bool\-\_\-t tb\-\_\-socket\-\_\-pair (
\begin{DoxyParamCaption}
\item[{tb\-\_\-size\-\_\-t}]{type, }
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{pair\mbox{[}2\mbox{]}}
\end{DoxyParamCaption}
)}}\label{socket_8h_a2187c08036b6459b7c7b992c812064b8}
init socket pair


\begin{DoxyParams}{Parameters}
{\em type} & the socket type \\
\hline
{\em pair} & the socket pair\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the socket handle 
\end{DoxyReturn}


Definition at line 111 of file socket.\-c.



Referenced by tb\-\_\-aiop\-\_\-init().

\hypertarget{socket_8h_ac6b7f9330cab7e81360bf5b1b4e64dd2}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-recv@{tb\-\_\-socket\-\_\-recv}}
\index{tb\-\_\-socket\-\_\-recv@{tb\-\_\-socket\-\_\-recv}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-recv}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-recv (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-byte\-\_\-t $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_ac6b7f9330cab7e81360bf5b1b4e64dd2}
recv the socket data for tcp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 334 of file socket.\-c.

\hypertarget{socket_8h_a6d0e1f752face48e68f4da58d6cb48f2}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size@{tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size}}
\index{tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size@{tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-size\-\_\-t tb\-\_\-socket\-\_\-recv\-\_\-buffer\-\_\-size (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock}
\end{DoxyParamCaption}
)}}\label{socket_8h_a6d0e1f752face48e68f4da58d6cb48f2}
the socket recv buffer size


\begin{DoxyParams}{Parameters}
{\em sock} & the socket\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the recv size 
\end{DoxyReturn}


Definition at line 148 of file socket.\-c.

\hypertarget{socket_8h_af15ea6d7f63d9d3e4869ec1afb4fc73b}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-recvv@{tb\-\_\-socket\-\_\-recvv}}
\index{tb\-\_\-socket\-\_\-recvv@{tb\-\_\-socket\-\_\-recvv}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-recvv}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-recvv (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-iovec\-\_\-t} const $\ast$}]{list, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_af15ea6d7f63d9d3e4869ec1afb4fc73b}
recvv the socket data for tcp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em list} & the iovec list \\
\hline
{\em size} & the iovec size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 370 of file socket.\-c.

\hypertarget{socket_8h_a8aa465bb0de8d1be6df8ec9e2c206930}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-send@{tb\-\_\-socket\-\_\-send}}
\index{tb\-\_\-socket\-\_\-send@{tb\-\_\-socket\-\_\-send}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-send}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-send (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-byte\-\_\-t const $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_a8aa465bb0de8d1be6df8ec9e2c206930}
send the socket data for tcp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 352 of file socket.\-c.



Referenced by tb\-\_\-aiop\-\_\-kill(), tb\-\_\-aiop\-\_\-spak(), and tb\-\_\-socket\-\_\-sendf().

\hypertarget{socket_8h_a01f6e8c874a29c4c3b4544081a811639}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size@{tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size}}
\index{tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size@{tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-size\-\_\-t tb\-\_\-socket\-\_\-send\-\_\-buffer\-\_\-size (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock}
\end{DoxyParamCaption}
)}}\label{socket_8h_a01f6e8c874a29c4c3b4544081a811639}
the socket send buffer size


\begin{DoxyParams}{Parameters}
{\em sock} & the socket\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the recv size 
\end{DoxyReturn}


Definition at line 158 of file socket.\-c.

\hypertarget{socket_8h_a639bd1ff9182c245aef292627853422e}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-sendf@{tb\-\_\-socket\-\_\-sendf}}
\index{tb\-\_\-socket\-\_\-sendf@{tb\-\_\-socket\-\_\-sendf}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-sendf}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-hong\-\_\-t tb\-\_\-socket\-\_\-sendf (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{tb\-\_\-handle\-\_\-t}]{file, }
\item[{tb\-\_\-hize\-\_\-t}]{offset, }
\item[{tb\-\_\-hize\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_a639bd1ff9182c245aef292627853422e}
sendf the socket data


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em file} & the file \\
\hline
{\em offset} & the offset \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 414 of file socket.\-c.



References tb\-\_\-file\-\_\-pread(), and tb\-\_\-socket\-\_\-send().

\hypertarget{socket_8h_a4ca442142f8680d5bf0ae49785d4a5af}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-sendv@{tb\-\_\-socket\-\_\-sendv}}
\index{tb\-\_\-socket\-\_\-sendv@{tb\-\_\-socket\-\_\-sendv}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-sendv}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-sendv (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-iovec\-\_\-t} const $\ast$}]{list, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_a4ca442142f8680d5bf0ae49785d4a5af}
sendv the socket data for tcp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em list} & the iovec list \\
\hline
{\em size} & the iovec size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 392 of file socket.\-c.

\hypertarget{socket_8h_a0a44c6c642d2b6c471224f35d0c96cef}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-urecv@{tb\-\_\-socket\-\_\-urecv}}
\index{tb\-\_\-socket\-\_\-urecv@{tb\-\_\-socket\-\_\-urecv}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-urecv}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-urecv (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} const $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t}]{port, }
\item[{tb\-\_\-byte\-\_\-t $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_a0a44c6c642d2b6c471224f35d0c96cef}
recv the socket data for udp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the addr \\
\hline
{\em port} & the port \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 465 of file socket.\-c.

\hypertarget{socket_8h_abb815057d59c5cd1d56c44a37a0452d4}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-urecvv@{tb\-\_\-socket\-\_\-urecvv}}
\index{tb\-\_\-socket\-\_\-urecvv@{tb\-\_\-socket\-\_\-urecvv}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-urecvv}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-urecvv (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} const $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t}]{port, }
\item[{{\bf tb\-\_\-iovec\-\_\-t} const $\ast$}]{list, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_abb815057d59c5cd1d56c44a37a0452d4}
urecvv the socket data for udp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the addr \\
\hline
{\em port} & the port \\
\hline
{\em list} & the iovec list \\
\hline
{\em size} & the iovec size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 514 of file socket.\-c.

\hypertarget{socket_8h_a145fa405af810a3434c732d0351aaa4e}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-usend@{tb\-\_\-socket\-\_\-usend}}
\index{tb\-\_\-socket\-\_\-usend@{tb\-\_\-socket\-\_\-usend}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-usend}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-usend (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} const $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t}]{port, }
\item[{tb\-\_\-byte\-\_\-t const $\ast$}]{data, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_a145fa405af810a3434c732d0351aaa4e}
send the socket data for udp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the addr \\
\hline
{\em port} & the port \\
\hline
{\em data} & the data \\
\hline
{\em size} & the size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 490 of file socket.\-c.

\hypertarget{socket_8h_ae592bcf9086d8b2fb73c28cdfd4a155a}{\index{socket.\-h@{socket.\-h}!tb\-\_\-socket\-\_\-usendv@{tb\-\_\-socket\-\_\-usendv}}
\index{tb\-\_\-socket\-\_\-usendv@{tb\-\_\-socket\-\_\-usendv}!socket.h@{socket.\-h}}
\subsubsection[{tb\-\_\-socket\-\_\-usendv}]{\setlength{\rightskip}{0pt plus 5cm}tb\-\_\-long\-\_\-t tb\-\_\-socket\-\_\-usendv (
\begin{DoxyParamCaption}
\item[{{\bf tb\-\_\-socket\-\_\-ref\-\_\-t}}]{sock, }
\item[{{\bf tb\-\_\-ipv4\-\_\-t} const $\ast$}]{addr, }
\item[{tb\-\_\-uint16\-\_\-t}]{port, }
\item[{{\bf tb\-\_\-iovec\-\_\-t} const $\ast$}]{list, }
\item[{tb\-\_\-size\-\_\-t}]{size}
\end{DoxyParamCaption}
)}}\label{socket_8h_ae592bcf9086d8b2fb73c28cdfd4a155a}
usendv the socket data for udp


\begin{DoxyParams}{Parameters}
{\em sock} & the socket \\
\hline
{\em addr} & the addr \\
\hline
{\em port} & the port \\
\hline
{\em list} & the iovec list \\
\hline
{\em size} & the iovec size\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the real size or -\/1 
\end{DoxyReturn}


Definition at line 547 of file socket.\-c.

