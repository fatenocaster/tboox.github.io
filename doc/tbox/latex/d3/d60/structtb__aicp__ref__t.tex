\hypertarget{structtb__aicp__ref__t}{\section{tb\-\_\-aicp\-\_\-ref\-\_\-t Struct Reference}
\label{structtb__aicp__ref__t}\index{tb\-\_\-aicp\-\_\-ref\-\_\-t@{tb\-\_\-aicp\-\_\-ref\-\_\-t}}
}


{\ttfamily \#include $<$prefix.\-h$>$}



\subsection{Detailed Description}
the aico pool ref type


\begin{DoxyPre}
      |------------------------------------------------|
      |                   astream                      |
      |------------------------------------------------|
      |  addr  | http | file | sock |      ..          | 
      '------------------------------------------------'
                            |
init:                    [aicp]
                            |
      |------------------------------------------------|
addo: | aico0   aico1   aico2   aico3      ...         | <= sock, file, and task aico
      '------------------------------------------------'
                            | 
                         [aicp]
                            |
post: |------------------------------------------------| <= only post one aice for the same aico util the aice is finished
aice: | aice0   aice1   aice2   aice3      ...         | <---------------------------------------------------------------------------------
      '------------------------------------------------'                                                                                  |
                            |                                                                                                             |
                         [aicp]                                                                                                           |
                            |         <= input aices                                                                                      |
                            |                                                                                                             |
                            '--------------------------------------------------------------                                               | 
                                                               |                          |                                               |
      |--------------------------------------------------------------------------------------------------|                                |
      |                         unix proactor                  |              |     windows proactor     |                                |
      |-----------------------------------------------------------------------|--------------------------|                                |
      |                                                        |              |           |              |                                |
      |                           continue to spak aice        |              |           |-----         |                                |
      |                      ------------------------------->  |              |           |     |        |                                |
      |                     |                                 \textbackslash{}/    [lock]    |          \textbackslash{}/     |        |                                |
aiop: |------|-------|-------|-------|---- ... --|-----|    |-----|           |         done  post       |                                |
aico: | aico0  aico1   aico2   aico3       ...         |    |  |  |           |          |      |        |                                |
wait: |------|-------|-------|-------|---- ... --|-----|    |aice4|           |    |----------------|    |                                |
      |   |              |                             |    |  |  |           |    |                |    |                                |
      | aice0           aice2                          |    |aice5|           |    |                |    |                                |
      |   |              |                             |    |  |  |           |    |                |    |                                |
      | aice1           ...                            |    |aice6|           |    |      iocp      |    |                                |
      |   |                                            |    |  |  |           |    |                |    |                                |
      | aice3                                          |    |aice7|           |    |                |    |                                |
      |   |                                            |    |  |  |           |    |                |    |                                |
      |  ...                                           |    | ... |           |    |                |    |                                |
      |   |                                            |    |  |  |           |    | wait0 wait1 .. |    |                                |
      |                                                |    |     |           |     ----------------     |                                |
      |                 wait poll                      |    |queue|           |      |         |         |                                |
      '------------------------------------------------'    '-----'-----------'--------------------------'                                |
                            /\textbackslash{}                                 |    [lock]           |         |                                          |
                            |                                  |                     |         |                                          |              
                            |     no data? wait aice        --------------------------->-----------------                                 |
                            |<-----------------------------|    worker0   |   worker1    |    ...        | <= done loop for workers       |
                                                            -------------------<-------------------------                                 |
                                                                  |             |              |                                          |
                                                           |---------------------------------------------|                                |
                                                           |    aice0    |    aice2     |     ...        |                                |
                                                           |    aice1    |    aice3     |     ...        | <= output aices                |
                                                           |     ...     |    aice4     |     ...        |                                |
                                                           |     ...     |     ...      |     ...        |                                |
                                                           '---------------------------------------------'                                |
                                                                  |              |              |                                         |         
                                                           |---------------------------------------------|                                |
                                                           |   caller0   |   caller2    |     ...        |                                |
                                                           |   caller1   |     ...      |     ...        | <= done callers                |
                                                           |     ...     |   caller3    |     ...        |                                |
                                                           |     ...     |     ...      |     ...        |                                |
                                                           '---------------------------------------------'                                |
                                                                  |              |                                                        | 
                                                                 ...            ...                                                       |
                                                             post aice          end ----                                                  |
                                                                  |                     |                                                 |
                                                                  '---------------------|------------------------------------------------>'
                                                                                        |
kill:                                                                  ...              |
                                                                        |               |
exit:                                                                  ...    <---------'\end{DoxyPre}



\begin{DoxyPre}\end{DoxyPre}
 

Definition at line 122 of file prefix.\-h.



The documentation for this struct was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
src/tbox/asio/prefix.\-h\end{DoxyCompactItemize}
