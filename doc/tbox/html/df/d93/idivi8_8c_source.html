<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>TBOX: src/tbox/libm/idivi8.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">TBOX
   &#160;<span id="projectnumber">1.4.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d93/idivi8_8c_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">idivi8.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../df/d93/idivi8_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">/* //////////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment"> * includes</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;math.h&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* //////////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> * implementation</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;tb_uint32_t tb_idivi8(tb_uint32_t x, tb_uint8_t y)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="comment">/* x * inverse[y] &gt;&gt; 32 == x / y for all 0 &lt;= x &lt;= 16909558 &amp;&amp; 2 &lt;= y &lt;= 256 for x &gt; 16909558</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">     * is an overestimate by less than 1 part in 1 &lt;&lt; 24</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">static</span> tb_uint32_t <span class="keyword">const</span> inverse[257] = </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            0,              4294967295U,    2147483648U,    1431655766,     1073741824,     858993460,      715827883,      613566757</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    ,       536870912,      477218589,      429496730,      390451573,      357913942,      330382100,      306783379,      286331154</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    ,       268435456,      252645136,      238609295,      226050911,      214748365,      204522253,      195225787,      186737709</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    ,       178956971,      171798692,      165191050,      159072863,      153391690,      148102321,      143165577,      138547333</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    ,       134217728,      130150525,      126322568,      122713352,      119304648,      116080198,      113025456,      110127367</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    ,       107374183,      104755300,      102261127,      99882961,       97612894,       95443718,       93368855,       91382283</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    ,       89478486,       87652394,       85899346,       84215046,       82595525,       81037119,       79536432,       78090315</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    ,       76695845,       75350304,       74051161,       72796056,       71582789,       70409300,       69273667,       68174085</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    ,       67108864,       66076420,       65075263,       64103990,       63161284,       62245903,       61356676,       60492498</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    ,       59652324,       58835169,       58040099,       57266231,       56512728,       55778797,       55063684,       54366675</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    ,       53687092,       53024288,       52377650,       51746594,       51130564,       50529028,       49941481,       49367441</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    ,       48806447,       48258060,       47721859,       47197443,       46684428,       46182445,       45691142,       45210183</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    ,       44739243,       44278014,       43826197,       43383509,       42949673,       42524429,       42107523,       41698712</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    ,       41297763,       40904451,       40518560,       40139882,       39768216,       39403370,       39045158,       38693400</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    ,       38347923,       38008561,       37675152,       37347542,       37025581,       36709123,       36398028,       36092163</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    ,       35791395,       35495598,       35204650,       34918434,       34636834,       34359739,       34087043,       33818641</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    ,       33554432,       33294321,       33038210,       32786010,       32537632,       32292988,       32051995,       31814573</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    ,       31580642,       31350127,       31122952,       30899046,       30678338,       30460761,       30246249,       30034737</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    ,       29826162,       29620465,       29417585,       29217465,       29020050,       28825284,       28633116,       28443493</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    ,       28256364,       28071682,       27889399,       27709467,       27531842,       27356480,       27183338,       27012373</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    ,       26843546,       26676816,       26512144,       26349493,       26188825,       26030105,       25873297,       25718368</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    ,       25565282,       25414008,       25264514,       25116768,       24970741,       24826401,       24683721,       24542671</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    ,       24403224,       24265352,       24129030,       23994231,       23860930,       23729102,       23598722,       23469767</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    ,       23342214,       23216040,       23091223,       22967740,       22845571,       22724695,       22605092,       22486740</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    ,       22369622,       22253717,       22139007,       22025474,       21913099,       21801865,       21691755,       21582751</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    ,       21474837,       21367997,       21262215,       21157475,       21053762,       20951060,       20849356,       20748635</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    ,       20648882,       20550083,       20452226,       20355296,       20259280,       20164166,       20069941,       19976593</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    ,       19884108,       19792477,       19701685,       19611723,       19522579,       19434242,       19346700,       19259944</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    ,       19173962,       19088744,       19004281,       18920561,       18837576,       18755316,       18673771,       18592933</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    ,       18512791,       18433337,       18354562,       18276457,       18199014,       18122225,       18046082,       17970575</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ,       17895698,       17821442,       17747799,       17674763,       17602325,       17530479,       17459217,       17388532</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    ,       17318417,       17248865,       17179870,       17111424,       17043522,       16976156,       16909321,       16843010</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    ,       16777216</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    };</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">return</span> ((tb_size_t)((((tb_uint64_t)x) * inverse[y]) &gt;&gt; 32));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0c384bd6d37ce9f5a164ad71106c7e24.html">src</a></li><li class="navelem"><a class="el" href="../../dir_74c89af92d2f666610693d1f60c4bc85.html">tbox</a></li><li class="navelem"><a class="el" href="../../dir_8ac7a660e3fbaee97122da854518670d.html">libm</a></li><li class="navelem"><a class="el" href="../../df/d93/idivi8_8c.html">idivi8.c</a></li>
    <li class="footer">Generated on Thu Aug 14 2014 11:09:54 for TBOX by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
